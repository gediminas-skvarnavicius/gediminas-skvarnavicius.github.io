<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.290">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analysis of iTunes Podcast Reviews</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-2.12.1.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a>
  <ul class="collapse">
  <li><a href="#imports-and-options" id="toc-imports-and-options" class="nav-link" data-scroll-target="#imports-and-options"><span class="header-section-number">1.1</span> Imports and Options</a></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis"><span class="header-section-number">2</span> Exploratory Data Analysis</a>
  <ul class="collapse">
  <li><a href="#database-overview" id="toc-database-overview" class="nav-link" data-scroll-target="#database-overview"><span class="header-section-number">2.1</span> Database Overview</a></li>
  <li><a href="#podcast-characteristics" id="toc-podcast-characteristics" class="nav-link" data-scroll-target="#podcast-characteristics"><span class="header-section-number">2.2</span> Podcast characteristics</a></li>
  <li><a href="#reviewer-characteristics" id="toc-reviewer-characteristics" class="nav-link" data-scroll-target="#reviewer-characteristics"><span class="header-section-number">2.3</span> Reviewer Characteristics</a></li>
  </ul></li>
  <li><a href="#user-negativity-analysis" id="toc-user-negativity-analysis" class="nav-link" data-scroll-target="#user-negativity-analysis"><span class="header-section-number">3</span> User Negativity Analysis</a>
  <ul class="collapse">
  <li><a href="#are-users-that-gave-a-1-rating-once-more-likely-to-rate-badly-again-than-those-who-did-not" id="toc-are-users-that-gave-a-1-rating-once-more-likely-to-rate-badly-again-than-those-who-did-not" class="nav-link" data-scroll-target="#are-users-that-gave-a-1-rating-once-more-likely-to-rate-badly-again-than-those-who-did-not"><span class="header-section-number">3.1</span> Are Users that gave a “1” rating once more likely to rate badly again than those who did not?</a></li>
  <li><a href="#is-the-average-of-other-ratings-between-1-raters-and-1-non-raters-different" id="toc-is-the-average-of-other-ratings-between-1-raters-and-1-non-raters-different" class="nav-link" data-scroll-target="#is-the-average-of-other-ratings-between-1-raters-and-1-non-raters-different"><span class="header-section-number">3.2</span> Is the average of other ratings between “1-raters” and “1-non-raters” different?</a></li>
  <li><a href="#sec-only_bad" id="toc-sec-only_bad" class="nav-link" data-scroll-target="#sec-only_bad"><span class="header-section-number">3.3</span> What is the percentage of people that only leave bad ratings ( below 3)?</a></li>
  </ul></li>
  <li><a href="#rating-polarization-analysis" id="toc-rating-polarization-analysis" class="nav-link" data-scroll-target="#rating-polarization-analysis"><span class="header-section-number">4</span> Rating Polarization Analysis</a></li>
  <li><a href="#conclusions" id="toc-conclusions" class="nav-link" data-scroll-target="#conclusions"><span class="header-section-number">5</span> Conclusions</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analysis of iTunes Podcast Reviews</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">1</span> Introduction</h2>
<p>This is an analysis of the iTunes podcast reviews dataset from Kaggle, which can be found <a href="https://www.kaggle.com/datasets/thoughtvector/podcastreviews/versions/28">here</a>. The goal of this analysis is to provide an overview of the dataset and investigate two premises:</p>
<ol type="A">
<li>There is a tendency for certain reviewers to consistently post negative reviews.<br></li>
<li>Some topics exhibit higher polarization, resulting in more extreme ratings compared to more neutral topics.</li>
</ol>
<p>Examining these premises could provide valuable insights for developing the podcast suggestion algorithm for iTunes users.</p>
<section id="biases-and-limitations" class="level4" data-number="1.0.1">
<h4 data-number="1.0.1" class="anchored" data-anchor-id="biases-and-limitations"><span class="header-section-number">1.0.1</span> Biases and limitations</h4>
<p>The author declares no biases. The data analysis was performed by not differentiating the reviews by into different batches that they were scraped in.</p>
</section>
<section id="imports-and-options" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="imports-and-options"><span class="header-section-number">1.1</span> Imports and Options</h3>
<section id="imports" class="level4" data-number="1.1.1">
<h4 data-number="1.1.1" class="anchored" data-anchor-id="imports"><span class="header-section-number">1.1.1</span> Imports</h4>
<div class="cell" data-execution_count="1">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> aux_functions <span class="im">import</span> <span class="op">*</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># from sqlalchemy_schemadisplay import create_schema_graph</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># from sqlalchemy import create_engine, MetaData</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Image</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> duckdb</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tabulate <span class="im">import</span> tabulate</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> screeninfo <span class="im">import</span> get_monitors</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> numerize.numerize <span class="im">import</span> numerize</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Markdown</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.io <span class="im">as</span> pio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="options" class="level4" data-number="1.1.2">
<h4 data-number="1.1.2" class="anchored" data-anchor-id="options"><span class="header-section-number">1.1.2</span> Options</h4>
<div class="cell" data-execution_count="2">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>base_fig_width <span class="op">=</span> <span class="dv">8</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>base_fig_height <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>dpi <span class="op">=</span> get_monitors()[<span class="dv">0</span>].width <span class="op">/</span> (get_monitors()[<span class="dv">0</span>].width_mm <span class="op">/</span> <span class="fl">25.4</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>pio.renderers.default <span class="op">=</span> <span class="st">"plotly_mimetype+notebook_connected"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="fetching-the-data" class="level4" data-number="1.1.3">
<h4 data-number="1.1.3" class="anchored" data-anchor-id="fetching-the-data"><span class="header-section-number">1.1.3</span> Fetching the data</h4>
<section id="download-and-unzip-commands" class="level5">
<h5 class="anchored" data-anchor-id="download-and-unzip-commands">Download and unzip commands:</h5>
<div class="cell" data-execution_count="3">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># !kaggle datasets download -d thoughtvector/podcastreviews</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="4">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import zipfile</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># with zipfile.ZipFile('archive.zip', 'r') as zip_ref:</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     zip_ref.extractall()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-a-connection-using-duckdb" class="level5">
<h5 class="anchored" data-anchor-id="create-a-connection-using-duckdb">Create a connection using duckdb:</h5>
<div class="cell" data-execution_count="5">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>con <span class="op">=</span> duckdb.<span class="ex">connect</span>()</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>con.execute(<span class="st">"INSTALL sqlite"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>con.execute(<span class="st">"ATTACH DATABASE 'database.sqlite'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>&lt;duckdb.DuckDBPyConnection at 0x7f5c609a9bb0&gt;</code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="exploratory-data-analysis" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="exploratory-data-analysis"><span class="header-section-number">2</span> Exploratory Data Analysis</h2>
<section id="database-overview" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="database-overview"><span class="header-section-number">2.1</span> Database Overview</h3>
<section id="what-are-the-tables-and-their-columns" class="level5">
<h5 class="anchored" data-anchor-id="what-are-the-tables-and-their-columns">What are the tables and their columns?</h5>
<div class="cell" data-execution_count="6">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Markdown(tabulate(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>con.query(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>            <span class="st">"""--sql</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT table_name, GROUP_CONCAT(column_name) AS column_names FROM information_schema.columns GROUP BY table_name</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        ).to_df()</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>, showindex<span class="op">=</span><span class="va">False</span>, headers<span class="op">=</span><span class="st">"keys"</span>, tablefmt<span class="op">=</span><span class="st">"pipe"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="6">
<div id="tbl-database" class="anchored">
<table class="table table-sm table-striped small">
<caption>Table&nbsp;1: Tables and columns of the dataset.</caption>
<thead>
<tr class="header">
<th style="text-align: left;">table_name</th>
<th style="text-align: left;">column_names</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">runs</td>
<td style="text-align: left;">run_at,max_rowid,reviews_added</td>
</tr>
<tr class="even">
<td style="text-align: left;">podcasts</td>
<td style="text-align: left;">podcast_id,itunes_id,slug,itunes_url,title</td>
</tr>
<tr class="odd">
<td style="text-align: left;">categories</td>
<td style="text-align: left;">podcast_id,category</td>
</tr>
<tr class="even">
<td style="text-align: left;">reviews</td>
<td style="text-align: left;">podcast_id,title,content,rating,author_id,created_at</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="what-is-the-number-of-rows-in-each-table" class="level4" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="what-is-the-number-of-rows-in-each-table"><span class="header-section-number">2.1.1</span> What is the number of rows in each table?</h4>
<div class="cell" data-execution_count="7">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>table_names <span class="op">=</span> (</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    con.query(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"""--sql</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT table_name</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="st">FROM information_schema.tables</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    .to_df()[<span class="st">"table_name"</span>]</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    .to_list()</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> table <span class="kw">in</span> table_names:</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        table</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span> <span class="st">": "</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span> <span class="bu">str</span>(</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>            numerize(</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>                con.query(</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"""--sql</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="st">        SELECT COUNT(*)</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="st">        FROM database.</span><span class="sc">{}</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="st">        """</span>.<span class="bu">format</span>(</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>                        table</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>                    )</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>                ).fetchone()[<span class="dv">0</span>]</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>runs: 16
podcasts: 110.02K
categories: 212.37K
reviews: 2.07M</code></pre>
</div>
</div>
<p>The category table has more entries than the podcast table suggesting that podcasts can be tagged in more than one category.</p>
</section>
<section id="are-all-podcasts-accounted-for-in-the-categories-table" class="level4" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="are-all-podcasts-accounted-for-in-the-categories-table"><span class="header-section-number">2.1.2</span> Are all podcasts accounted for in the categories table?</h4>
<div class="cell" data-execution_count="8">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> con.query(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT p.podcast_id</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="st">FROM database.podcasts p</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="st">LEFT JOIN database.categories c ON p.podcast_id = c.podcast_id</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="st">WHERE c.podcast_id IS NULL</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>).fetchall():</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Query checks if there are any podcasts left out in the join, returns [] not.</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    display(Markdown(<span class="st">'Yes'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p>Yes</p>
</div>
</div>
<p>All podcasts have at least one category assigned.</p>
</section>
<section id="what-is-the-number-of-different-categories" class="level4" data-number="2.1.3">
<h4 data-number="2.1.3" class="anchored" data-anchor-id="what-is-the-number-of-different-categories"><span class="header-section-number">2.1.3</span> What is the number of different categories?</h4>
<div class="cell" data-execution_count="9">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>con.query(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT COUNT(DISTINCT category) FROM database.categories </span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>).fetchone()[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>110</code></pre>
</div>
</div>
</section>
</section>
<section id="podcast-characteristics" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="podcast-characteristics"><span class="header-section-number">2.2</span> Podcast characteristics</h3>
<section id="review-number-and-rating-distribution-amongst-podcasts" class="level4" data-number="2.2.1">
<h4 data-number="2.2.1" class="anchored" data-anchor-id="review-number-and-rating-distribution-amongst-podcasts"><span class="header-section-number">2.2.1</span> Review number and rating distribution amongst podcasts</h4>
<section id="extracting-the-number-of-reviews-and-average-rating-of-each-podcast" class="level5">
<h5 class="anchored" data-anchor-id="extracting-the-number-of-reviews-and-average-rating-of-each-podcast">Extracting the number of reviews and average rating of each podcast:</h5>
<div class="cell" data-execution_count="10">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>review_stats_pod_agg <span class="op">=</span> con.query(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT r.podcast_id,</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="st">    p.title,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">    COUNT(r.*) AS num_reviews,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st">    AVG(r.rating) AS average_rating</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="st">FROM database.reviews as r</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="st">    LEFT JOIN database.podcasts as p ON r.podcast_id = p.podcast_id</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY r.podcast_id,</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="st">    p.title</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>).to_df()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="podcast-review-histograms" class="level5">
<h5 class="anchored" data-anchor-id="podcast-review-histograms">Podcast review histograms:</h5>
<div class="cell" data-execution_count="11">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>()</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Figure setup</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>fig_reviews_pod, (ax_reviews_pod, ax_ratings_pod) <span class="op">=</span> plt.subplots(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(base_fig_width, base_fig_height <span class="op">*</span> <span class="fl">0.8</span>), sharey<span class="op">=</span><span class="va">True</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Podcasts Histogram Inset</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>review_stats_pod_agg.hist(<span class="st">"num_reviews"</span>, ax<span class="op">=</span>ax_reviews_pod, bins<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>ax_reviews_pod.set_yscale(<span class="st">"log"</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>axis_titles(ax_reviews_pod, <span class="st">" Number of Reviews"</span>, <span class="st">"Number of Podcasts"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Podcasts Histogram Inset</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>ax_reviews_pod_inset <span class="op">=</span> ax_reviews_pod.inset_axes([<span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.45</span>, <span class="fl">0.43</span>])</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>review_stats_pod_agg.loc[review_stats_pod_agg[<span class="st">"num_reviews"</span>] <span class="op">&lt;</span> <span class="dv">1000</span>].hist(</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"num_reviews"</span>, ax<span class="op">=</span>ax_reviews_pod_inset</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>axis_titles(ax_reviews_pod_inset, <span class="st">"Number of Reviews"</span>, <span class="st">"Number of Podcasts"</span>)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>ax_reviews_pod_inset.set_yscale(<span class="st">"log"</span>)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Rating Hist</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>review_stats_pod_agg.hist(<span class="st">"average_rating"</span>, ax<span class="op">=</span>ax_ratings_pod, bins<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>axis_titles(ax_ratings_pod, <span class="st">"Average Rating"</span>)</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>ax_ratings_pod.set_yscale(<span class="st">"log"</span>)</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Layout</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>fig_reviews_pod.tight_layout(w_pad<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-reviews-pod" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-reviews-pod-output-1.png" class="quarto-discovered-preview-image img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Histogram of the number of reviews each podcast has in a dataset (left). The frequency is in the y-axis is in a logarithmic scale. The inset on the left chart shows frequencies of podcasts that had less than a thousand reviews. Right the histogram of ratings with frequencies in log-scale.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>There is a negative exponential distribution of the number of reviews that the podcasts are getting, with the majority having only several reviews as seen in <a href="#fig-reviews-pod">Figure&nbsp;1</a>. Yet there are podcasts with more than 30 thousand reviews. An exponential trend can also be seen in the ratings that the podcasts are getting. The majority of ratings are “5”, with lower number progressively being rarer. The “1” rating is an exception, being higher than the neighbors.</p>
</section>
</section>
<section id="the-category-distribution-of-podcasts." class="level4" data-number="2.2.2">
<h4 data-number="2.2.2" class="anchored" data-anchor-id="the-category-distribution-of-podcasts."><span class="header-section-number">2.2.2</span> The category distribution of podcasts.</h4>
<section id="extracting-tagged-categories-for-each-podcast" class="level5">
<h5 class="anchored" data-anchor-id="extracting-tagged-categories-for-each-podcast">Extracting tagged categories for each podcast:</h5>
<div class="cell" data-execution_count="12">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>podcasts_categories <span class="op">=</span> con.query(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT p.podcast_id, GROUP_CONCAT(c.category) AS category</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM database.podcasts p</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="st">    LEFT JOIN database.categories c ON p.podcast_id = c.podcast_id</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY p.podcast_id</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>).to_df()</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>podcasts_categories[<span class="st">"category"</span>] <span class="op">=</span> podcasts_categories[<span class="st">"category"</span>].<span class="bu">str</span>.split(<span class="st">","</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>podcasts_categories[<span class="st">"num_categories"</span>] <span class="op">=</span> podcasts_categories[<span class="st">"category"</span>].<span class="bu">apply</span>(<span class="bu">len</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="is-there-any-missing-data-in-the-extraction" class="level5">
<h5 class="anchored" data-anchor-id="is-there-any-missing-data-in-the-extraction">Is there any missing data in the extraction?</h5>
<div class="cell" data-execution_count="13">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>podcasts_categories.isna().<span class="bu">any</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>podcast_id        False
category          False
num_categories    False
dtype: bool</code></pre>
</div>
</div>
</section>
<section id="how-many-different-categories-are-the-podcasts-tagged-in" class="level5">
<h5 class="anchored" data-anchor-id="how-many-different-categories-are-the-podcasts-tagged-in">How many different categories are the podcasts tagged in?</h5>
<div class="cell" data-execution_count="14">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>col_frequency_table(podcasts_categories, <span class="st">"num_categories"</span>, <span class="st">" Number of Categories"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Number of Categories</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
<th data-quarto-table-cell-role="th">3</th>
<th data-quarto-table-cell-role="th">4</th>
<th data-quarto-table-cell-role="th">5</th>
<th data-quarto-table-cell-role="th">6</th>
<th data-quarto-table-cell-role="th">7</th>
<th data-quarto-table-cell-role="th">8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Frequency</td>
<td>44455</td>
<td>39443</td>
<td>16491</td>
<td>8809</td>
<td>658</td>
<td>147</td>
<td>18</td>
<td>3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="sample-categories" class="level5">
<h5 class="anchored" data-anchor-id="sample-categories">Sample categories:</h5>
<div class="cell" data-execution_count="15">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>podcasts_categories[<span class="st">"category"</span>].to_frame().head(<span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>[comedy]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>[comedy-stand-up, comedy]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>[society-culture]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>[spirituality, religion-spirituality, arts-per...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>[society-culture, arts]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>[tv-film-film-reviews, tv-film]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>[tv-film, society-culture-personal-journals, s...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>[business-careers, business]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The podcasts can be tagged in up to 8 categories, furthermore tags seem to have categories and sub categories. This might make the surface overview of the data complicated, therefore the categories will be aggregated by taking only the main category i.e.&nbsp;society-culture=culture. And merging some other similar categories like different religions into a single religion and spirituality category.</p>
</section>
<section id="aggregating-the-categories" class="level5">
<h5 class="anchored" data-anchor-id="aggregating-the-categories">Aggregating the categories:</h5>
<div class="cell" data-execution_count="16">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>podcasts_categories[<span class="st">"categories_agg"</span>] <span class="op">=</span> podcasts_categories[<span class="st">"category"</span>].<span class="bu">apply</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    transform_category_list</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="sample-categories-after-aggregation" class="level5">
<h5 class="anchored" data-anchor-id="sample-categories-after-aggregation">Sample categories after aggregation:</h5>
<div class="cell" data-execution_count="17">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>podcasts_categories[<span class="st">"categories_agg"</span>].head(<span class="dv">8</span>).to_frame()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">categories_agg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>{comedy}</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>{comedy}</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>{society}</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>{spirituality-religion, arts}</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>{society, arts}</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>{tv}</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>{society, tv}</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>{business}</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="how-many-aggregated-categories-are-the-podcasts-tagged-in" class="level5">
<h5 class="anchored" data-anchor-id="how-many-aggregated-categories-are-the-podcasts-tagged-in">How many aggregated categories are the podcasts tagged in?</h5>
<div class="cell" data-execution_count="18">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>col_frequency_table(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    podcasts_categories[<span class="st">"categories_agg"</span>].<span class="bu">apply</span>(<span class="bu">len</span>).to_frame(),</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"categories_agg"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">" Number of Aggregated Categories"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Number of Aggregated Categories</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
<th data-quarto-table-cell-role="th">3</th>
<th data-quarto-table-cell-role="th">4</th>
<th data-quarto-table-cell-role="th">5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Frequency</td>
<td>80562</td>
<td>28128</td>
<td>1254</td>
<td>77</td>
<td>3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="how-many-times-were-podcasts-tagged-in-each-category" class="level4" data-number="2.2.3">
<h4 data-number="2.2.3" class="anchored" data-anchor-id="how-many-times-were-podcasts-tagged-in-each-category"><span class="header-section-number">2.2.3</span> How many times were podcasts tagged in each category?</h4>
<section id="calculating-the-number-of-tags-for-each-aggregated-category" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-number-of-tags-for-each-aggregated-category">Calculating the number of tags for each aggregated category:</h5>
<div class="cell" data-execution_count="19">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>cat_counter <span class="op">=</span> Counter()</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> cat <span class="kw">in</span> podcasts_categories[<span class="st">"categories_agg"</span>]:</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    cat_counter.update(cat)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>category_frequency <span class="op">=</span> pd.DataFrame.from_dict(</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">dict</span>(cat_counter), orient<span class="op">=</span><span class="st">"index"</span>, columns<span class="op">=</span>[<span class="st">"Frequency"</span>]</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>).sort_values(<span class="st">"Frequency"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="visualizing-the-results-in-a-bar-chart" class="level5">
<h5 class="anchored" data-anchor-id="visualizing-the-results-in-a-bar-chart">Visualizing the results in a bar chart:</h5>
<div class="cell" data-execution_count="20">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>fig_cats_freq, ax_cats_freq <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(base_fig_width, base_fig_height))</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>sns.barplot(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>category_frequency[<span class="st">"Frequency"</span>],</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>category_frequency.index.<span class="bu">str</span>.capitalize(),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax_cats_freq,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    palette<span class="op">=</span><span class="st">"deep"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-cats-freq" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-cats-freq-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: The number of times each aggregated category was tagged in a description of a podcast.</figcaption><p></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="category-ratings" class="level4" data-number="2.2.4">
<h4 data-number="2.2.4" class="anchored" data-anchor-id="category-ratings"><span class="header-section-number">2.2.4</span> Category ratings</h4>
<section id="what-is-the-average-rating-and-number-of-reviews-for-podcasts-in-each-category" class="level5">
<h5 class="anchored" data-anchor-id="what-is-the-average-rating-and-number-of-reviews-for-podcasts-in-each-category">What is the average rating and number of reviews for podcasts in each category?</h5>
</section>
<section id="fetching-the-number-of-ratings-and-the-average-rating-of-podcasts-tagged-in-each-aggregated-category" class="level5">
<h5 class="anchored" data-anchor-id="fetching-the-number-of-ratings-and-the-average-rating-of-podcasts-tagged-in-each-aggregated-category">Fetching the number of ratings and the average rating of podcasts tagged in each aggregated category:</h5>
<div class="cell" data-execution_count="21">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>category_agg_names <span class="op">=</span> category_frequency.index.to_list()</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>category_ratings <span class="op">=</span> {}</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> category <span class="kw">in</span> category_agg_names:</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    id_list <span class="op">=</span> <span class="st">", "</span>.join(</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"'</span><span class="sc">{</span><span class="bu">id</span><span class="sc">}</span><span class="ss">'"</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="bu">id</span> <span class="kw">in</span> podcasts_categories[</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>            podcasts_categories[<span class="st">"categories_agg"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: category <span class="kw">in</span> x)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>        ][<span class="st">"podcast_id"</span>]</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    category_ratings[category] <span class="op">=</span> con.query(</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"""--sql</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="ss">    SELECT COUNT(*) as num_ratings,</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="ss">    AVG(rating) as avg_rating,</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="ss">    stddev_pop(rating) as rating_std</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="ss">    FROM database.reviews</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="ss">    WHERE podcast_id IN (</span><span class="sc">{</span> id_list <span class="sc">}</span><span class="ss">)</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="ss">        """</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    ).fetchone()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="preparing-the-data-for-the-bubble-plot" class="level5">
<h5 class="anchored" data-anchor-id="preparing-the-data-for-the-bubble-plot">Preparing the data for the bubble plot:</h5>
<div class="cell" data-execution_count="22">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>category_ratings <span class="op">=</span> pd.DataFrame.from_dict(category_ratings).T.rename(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>{<span class="dv">0</span>: <span class="st">"rating_count"</span>, <span class="dv">1</span>: <span class="st">"average_rating"</span>, <span class="dv">2</span>: <span class="st">"standard_deviation"</span>}</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>category_stats <span class="op">=</span> category_frequency.join(category_ratings)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>category_stats[<span class="st">"ratings_per_pod"</span>] <span class="op">=</span> (</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    category_stats[<span class="st">"rating_count"</span>] <span class="op">/</span> category_stats[<span class="st">"Frequency"</span>]</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>cat_colors <span class="op">=</span> sns.color_palette(<span class="st">"deep"</span>, <span class="bu">len</span>(category_stats))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="bubble-plot" class="level5">
<h5 class="anchored" data-anchor-id="bubble-plot">Bubble plot:</h5>
<div class="cell" data-execution_count="23">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>figure_cat_overview <span class="op">=</span> px.scatter(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    category_stats,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"ratings_per_pod"</span>,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"average_rating"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    size<span class="op">=</span><span class="st">"Frequency"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    hover_name<span class="op">=</span>category_stats.index,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span>base_fig_width <span class="op">*</span> dpi,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span>base_fig_height <span class="op">*</span> dpi,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>figure_cat_overview.update_layout(</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">"Reviews per Podcast"</span>, yaxis_title<span class="op">=</span><span class="st">"Average Rating"</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>default_plotly_margins(figure_cat_overview)</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>figure_cat_overview.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-cat-overview" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">

<div>                            <div id="50e351e3-1cce-49f0-a18e-ec890f8dca17" class="plotly-graph-div" style="height:511.1949685534591px; width:817.9119496855345px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("50e351e3-1cce-49f0-a18e-ec890f8dca17")) {                    Plotly.newPlot(                        "50e351e3-1cce-49f0-a18e-ec890f8dca17",                        [{"hovertemplate":"<b>%{hovertext}</b><br><br>ratings_per_pod=%{x}<br>average_rating=%{y}<br>Frequency=%{marker.size}<extra></extra>","hovertext":["society","education","business","comedy","spirituality-religion","arts","sports","health","tv","leisure","news","music","kids","technology","science","history","fiction","true-crime","government"],"legendgroup":"","marker":{"color":"#636efa","size":[19441,13005,12931,12803,12771,9675,9280,8731,8285,7011,6606,6161,3321,3235,2186,1663,1594,1264,940],"sizemode":"area","sizeref":48.6025,"symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[23.413970474769815,17.49373317954633,17.56971618590983,27.819885964227133,11.977840419700884,15.075762273901809,20.817780172413794,21.608864963921658,21.430295715147857,14.51447725003566,28.8283378746594,10.007304009089433,32.36886479975911,14.784544049459042,21.769441903019214,35.60072158749249,22.362609786700126,128.5996835443038,16.47553191489362],"xaxis":"x","y":[4.5537301923807805,4.816158694715744,4.845673741384015,4.627031989623166,4.832789650190562,4.730978074565673,4.625667092846901,4.790323692007611,4.525592790763166,4.758001591965487,4.311704473850032,4.7713080853134375,4.748197624119743,4.529647904992891,4.531583592502312,4.522414026079319,4.595831229310441,4.1638572746847125,4.43010266675276],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Reviews per Podcast"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Average Rating"}},"legend":{"tracegroupgap":0,"itemsizing":"constant"},"margin":{"t":25,"l":65,"r":10,"b":30},"height":511.1949685534591,"width":817.9119496855345},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('50e351e3-1cce-49f0-a18e-ec890f8dca17');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
<p></p><figcaption class="figure-caption">Figure&nbsp;3: The average ratings of podcasts tagged in a category over the average number ratings a podcast tagged in that category received. The size of the point represents the total number of podcasts tagged in the specific category.</figcaption><p></p>
</figure>
</div>
</div>
</section>
<section id="what-are-the-podcasts-with-the-most-reviews" class="level5">
<h5 class="anchored" data-anchor-id="what-are-the-podcasts-with-the-most-reviews">What are the podcasts with the most reviews?</h5>
<div class="cell" data-execution_count="24">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>Markdown(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    tabulate(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>        review_stats_pod_agg.sort_values(<span class="st">"num_reviews"</span>, ascending<span class="op">=</span><span class="va">False</span>)[</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>            [<span class="st">"title"</span>, <span class="st">"num_reviews"</span>]</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>        ].head(<span class="dv">5</span>),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>        showindex<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>        headers<span class="op">=</span>[<span class="st">"Title"</span>,<span class="st">'Number of Reviews'</span>],</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>        tablefmt<span class="op">=</span><span class="st">"pipe"</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="24">
<div id="tbl-popular_pods" class="anchored">
<table class="table table-sm table-striped small">
<caption>Table&nbsp;2: Podcasts with the most reviews</caption>
<colgroup>
<col style="width: 75%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Title</th>
<th style="text-align: right;">Number of Reviews</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Crime Junkie</td>
<td style="text-align: right;">33104</td>
</tr>
<tr class="even">
<td style="text-align: left;">My Favorite Murder with Karen Kilgariff and Georgia Hardstark</td>
<td style="text-align: right;">10675</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Wow in the World</td>
<td style="text-align: right;">9698</td>
</tr>
<tr class="even">
<td style="text-align: left;">The Ben Shapiro Show</td>
<td style="text-align: right;">8248</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Story Pirates</td>
<td style="text-align: right;">7389</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="reviewer-characteristics" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="reviewer-characteristics"><span class="header-section-number">2.3</span> Reviewer Characteristics</h3>
<section id="how-many-reviewers-left-reviews" class="level4" data-number="2.3.1">
<h4 data-number="2.3.1" class="anchored" data-anchor-id="how-many-reviewers-left-reviews"><span class="header-section-number">2.3.1</span> How many reviewers left reviews?</h4>
<div class="cell" data-execution_count="25">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>Markdown(numerize(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    con.query(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"""--sql</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT COUNT(DISTINCT author_id)</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM database.reviews</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    ).fetchone()[<span class="dv">0</span>]</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="25">
<p>1.48M</p>
</div>
</div>
</section>
<section id="what-is-the-distribution-of-the-number-of-reviews-each-reviewer-wrote" class="level4" data-number="2.3.2">
<h4 data-number="2.3.2" class="anchored" data-anchor-id="what-is-the-distribution-of-the-number-of-reviews-each-reviewer-wrote"><span class="header-section-number">2.3.2</span> What is the distribution of the number of reviews each reviewer wrote?</h4>
<section id="extracting-the-number-of-reviews-per-user" class="level5">
<h5 class="anchored" data-anchor-id="extracting-the-number-of-reviews-per-user">Extracting the number of reviews per user:</h5>
<div class="cell" data-execution_count="26">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>review_per_user <span class="op">=</span> con.query(</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="st">FLOOR(rating_count/1)*1 AS num_reviews,</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="st">COUNT(*) as count</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="st">FROM (</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="st">  SELECT author_id, COUNT(rating) AS rating_count</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM database.reviews</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="st">  GROUP BY author_id</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="st">) AS subquery</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY 1</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY 1</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>).to_df()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="binning-the-numbers-into-custom-bins" class="level5">
<h5 class="anchored" data-anchor-id="binning-the-numbers-into-custom-bins">Binning the numbers into custom bins:</h5>
<div class="cell" data-execution_count="27">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>rev_per_user_bins <span class="op">=</span> np.concatenate(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    (</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>        np.arange(<span class="dv">0</span>, <span class="dv">10</span>),</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>        np.arange(<span class="dv">11</span>, <span class="dv">101</span>, <span class="dv">10</span>),</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>        np.arange(<span class="dv">101</span>, <span class="bu">max</span>(review_per_user[<span class="st">"num_reviews"</span>]) <span class="op">+</span> <span class="dv">100</span>, <span class="dv">100</span>),</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>review_per_user[<span class="st">"reviews_binned"</span>] <span class="op">=</span> pd.cut(</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    review_per_user[<span class="st">"num_reviews"</span>], bins<span class="op">=</span>rev_per_user_bins</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="histogram-of-the-number-of-reviews-each-user-wrote" class="level5">
<h5 class="anchored" data-anchor-id="histogram-of-the-number-of-reviews-each-user-wrote">Histogram of the number of reviews each user wrote:</h5>
<div class="cell" data-execution_count="28">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Figure Setup</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>fig_rev_per_user, ax_rev_per_user <span class="op">=</span> plt.subplots(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(base_fig_width, base_fig_height)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>review_per_user.groupby(<span class="st">"reviews_binned"</span>)[<span class="st">"count"</span>].<span class="bu">sum</span>().to_frame().plot.bar(</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    ax<span class="op">=</span>ax_rev_per_user, legend<span class="op">=</span><span class="va">False</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>ax_rev_per_user.set_yscale(<span class="st">"log"</span>)</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Bin labels</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>bin_labels <span class="op">=</span> []</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>):</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    bin_labels.append(<span class="bu">str</span>(i))</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">11</span>, <span class="dv">101</span>, <span class="dv">10</span>):</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>    bin_labels.append(<span class="ss">f"</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">9</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">101</span>, <span class="dv">700</span>, <span class="dv">100</span>):</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>    bin_labels.append(<span class="ss">f"</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">99</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>bin_labels[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> <span class="st">"600+"</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>ax_rev_per_user.set_xticklabels(bin_labels, rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Titles</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>axis_titles(ax_rev_per_user, <span class="st">"Number of Reviews Written"</span>, <span class="st">"Number of Users"</span>)</span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-rev-per-user" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-rev-per-user-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;4: The amount of users that wrote a certain number of reviews.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>As seen in <a href="#fig-rev-per-user">Figure&nbsp;4</a> most of the users wrote one or two reviews, yet there is also a number of people that wrote significantly more.</p>
</section>
<section id="is-there-a-correlation-between-the-number-of-reviews-and-a-user-wrote-and-the-average-rating-given" class="level5">
<h5 class="anchored" data-anchor-id="is-there-a-correlation-between-the-number-of-reviews-and-a-user-wrote-and-the-average-rating-given">Is there a correlation between the number of reviews and a user wrote and the average rating given?</h5>
<div class="cell" data-execution_count="29">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>Markdown(<span class="st">"Pearsons r: "</span><span class="op">+</span><span class="bu">str</span>(<span class="bu">round</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>con.query(</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT corr(rating_count, avg_rating)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="st">FROM (</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT author_id, COUNT(rating) AS rating_count, AVG(rating) AS avg_rating</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="st">FROM database.reviews</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY author_id) AS ratings</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>).fetchone()[<span class="dv">0</span>],<span class="dv">3</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="29">
<p>Pearsons r: -0.043</p>
</div>
</div>
<p>No significant correlation was observed.</p>
</section>
</section>
<section id="what-is-the-distribution-of-ratings-amongst-most-prolific-users-10-reviews" class="level4" data-number="2.3.3">
<h4 data-number="2.3.3" class="anchored" data-anchor-id="what-is-the-distribution-of-ratings-amongst-most-prolific-users-10-reviews"><span class="header-section-number">2.3.3</span> What is the distribution of ratings amongst most prolific users (&gt;10 reviews)?</h4>
<section id="fetching-the-information-about-the-reviews-from-users-that-rated-more-than-10-times" class="level5">
<h5 class="anchored" data-anchor-id="fetching-the-information-about-the-reviews-from-users-that-rated-more-than-10-times">Fetching the information about the reviews from users that rated more than 10 times:</h5>
<div class="cell" data-execution_count="30">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>users_many_reviews <span class="op">=</span> con.query(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT *</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="st">FROM (</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT author_id, COUNT(rating) AS rating_count, AVG(rating) AS avg_rating</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="st">FROM database.reviews</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY author_id) AS ratings</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="st">WHERE ratings.rating_count&gt;10</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>).to_df()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="scatterplot-visualization" class="level5">
<h5 class="anchored" data-anchor-id="scatterplot-visualization">Scatterplot visualization:</h5>
<div class="cell" data-execution_count="31">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>fig_rating_scatter, ax_rating_scatter <span class="op">=</span> plt.subplots(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(base_fig_width, base_fig_height)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>users_many_reviews.plot.scatter(<span class="st">"rating_count"</span>, <span class="st">"avg_rating"</span>, ax<span class="op">=</span>ax_rating_scatter)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>ax_rating_scatter.set_xscale(<span class="st">"log"</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>axis_titles(ax_rating_scatter, <span class="st">"Number of Reviews"</span>, <span class="st">"Average Rating by User"</span>)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-user-scatter" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-user-scatter-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;5: The average rating given by a user over the number of reviews that the user wrote.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The majority of users that wrote hundreds of reviews gave exclusively “5” point ratings. This raises suspicion of bot activity.</p>
</section>
</section>
<section id="what-were-some-of-the-reviews-that-a-user-who-wrote-more-than-600-reviews-gave" class="level4" data-number="2.3.4">
<h4 data-number="2.3.4" class="anchored" data-anchor-id="what-were-some-of-the-reviews-that-a-user-who-wrote-more-than-600-reviews-gave"><span class="header-section-number">2.3.4</span> What were some of the reviews that a user who wrote more than 600 reviews gave?</h4>
<section id="getting-5-random-reviews-of-a-specific-user" class="level5">
<h5 class="anchored" data-anchor-id="getting-5-random-reviews-of-a-specific-user">Getting 5 random reviews of a specific user:</h5>
<div class="cell" data-execution_count="32">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>prolific_user <span class="op">=</span> users_many_reviews.sort_values(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"rating_count"</span>, <span class="st">"avg_rating"</span>], ascending<span class="op">=</span><span class="va">False</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>).iloc[<span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>random.seed(<span class="dv">1</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>bot_comments <span class="op">=</span> con.query(</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT title, content</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="st">FROM database.reviews</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="st">WHERE author_id = '</span><span class="sc">{}</span><span class="st">'</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY RANDOM()</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="st">LIMIT 5</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span>.<span class="bu">format</span>(</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>        prolific_user</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>).to_df()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="the-reviews-were" class="level5">
<h5 class="anchored" data-anchor-id="the-reviews-were">The reviews were:</h5>
<div class="cell" data-execution_count="33">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, comment <span class="kw">in</span> bot_comments.iterrows():</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    display(Markdown(<span class="st">"Title: "</span> <span class="op">+</span> comment[<span class="dv">0</span>] <span class="op">+</span> <span class="st">" Comment: "</span> <span class="op">+</span> comment[<span class="dv">1</span>] <span class="op">+</span> <span class="st">"&lt;br /&gt;"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p>Title: Awesome Podcast!!! Comment: Gary, host of the Biohackers Lab podcast, highlight all aspects of health, fitness and more in this can’t miss podcast! The host and expert guests offer insightful advice and information that is helpful to anyone that listens!<br></p>
</div>
<div class="cell-output cell-output-display">
<p>Title: Awesome Podcast!!! Comment: Kathleen, host of theInbound Success Podcast, highlights all aspects of marketing and more in this can’t miss podcast! The host and expert guests offer insightful advice and information that is helpful to anyone that listens!<br></p>
</div>
<div class="cell-output cell-output-display">
<p>Title: Awesome Podcast!!! Comment: Ben, host of the Go Creative Show podcast, highlight all aspects of arts and more in this can’t miss podcast! The host and expert guests offer insightful advice and information that is helpful to anyone that listens!<br></p>
</div>
<div class="cell-output cell-output-display">
<p>Title: Awesome Podcast!!! Comment: Craig, host of the Early to Rise Radio podcast, highlights all aspects of self improvement, success and more in this can’t miss podcast! The host and expert guests offer insightful advice and information that is helpful to anyone that listens!<br></p>
</div>
<div class="cell-output cell-output-display">
<p>Title: Awesome Podcast!!! Comment: Mike &amp; Euvie, host of the Future Thinkers Podcast, highlights all aspects of technology, innovation and more in this can’t miss podcast! The host and expert guests offer insightful advice and information that is helpful to anyone that listens!<br></p>
</div>
</div>
<p>All of the reviews follow an identical pattern and since this user wrote more than six hundred of these, we can suspect that it’s a bot, along with some of the other users.</p>
</section>
</section>
</section>
</section>
<section id="user-negativity-analysis" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="user-negativity-analysis"><span class="header-section-number">3</span> User Negativity Analysis</h2>
<p>The underlying premise of this section posits that certain authors might exhibit a consistent tendency to include a higher proportion of negative reviews compared to others. To examine this premise, we focus on a specific population of <b>users who have submitted between 3 and 10 reviews</b>. The selection of this range is arbitrary but serves as a means to identify users who have provided a reasonable number of reviews, indicating genuine engagement rather than automated or excessively frequent reviewing. Moreover, <b>users who have exclusively rated items with either a “5” or a “1” have been excluded</b> from this population of interest.</p>
<p>To investigate this premise, three distinct statistical experiments were devised to address the following inquiries:</p>
<ol type="1">
<li>Is there a higher likelihood for users who have given a “1” rating at least once to subsequently provide another negative rating, compared to those who have not assigned a “1” rating?</li>
<li>Do users who have given at least one “1” rating tend to give lower average ratings overall, compared to users who have not assigned a “1” rating?</li>
<li>What is the proportion of users who exclusively provide negative ratings, without assigning any positive ratings?</li>
</ol>
<section id="gathering-the-required-information-about-the-population-of-interest." class="level5">
<h5 class="anchored" data-anchor-id="gathering-the-required-information-about-the-population-of-interest.">Gathering the required information about the population of interest.</h5>
<div class="cell" data-execution_count="34">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>average_reviewer <span class="op">=</span> con.query(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""--sql</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT *</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="st">FROM (</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="st">SELECT author_id, COUNT(rating) AS rating_count, AVG(rating) AS avg_rating, GROUP_CONCAT(rating) AS user_ratings</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="st">FROM database.reviews</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY author_id) AS ratings</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="st">WHERE (ratings.rating_count BETWEEN 3 AND 10)</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="st">AND ratings.avg_rating !=5</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="st">AND ratings.avg_rating !=1</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>).to_df()</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Changing the data format</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>average_reviewer[<span class="st">"user_ratings"</span>] <span class="op">=</span> average_reviewer[<span class="st">"user_ratings"</span>].<span class="bu">apply</span>(</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: np.fromstring(x, dtype<span class="op">=</span><span class="bu">int</span>, sep<span class="op">=</span><span class="st">","</span>)</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="are-users-that-gave-a-1-rating-once-more-likely-to-rate-badly-again-than-those-who-did-not" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="are-users-that-gave-a-1-rating-once-more-likely-to-rate-badly-again-than-those-who-did-not"><span class="header-section-number">3.1</span> Are Users that gave a “1” rating once more likely to rate badly again than those who did not?</h3>
<p>In this experiment, the users were segregated into two distinct groups based on their rating behavior: those who had assigned a “1” rating at least once, referred to as “<b>1-raters</b>,” and those who had never provided a “1” rating, referred to as “<b>1-non-raters</b>.” To ensure that the initial “1” rating did not bias the results, the lowest-rated review from each user was excluded. Subsequently, the population was further divided into two subgroups: those who had given at least one additional rating lower than “3” (either “1” or “2”) and those who had not. The disparity in proportions between the individuals who had given another negative rating and those who had not, among both the 1-raters and 1-non-raters, was then calculated.</p>
<section id="splitting-the-users-into-two-groups" class="level5">
<h5 class="anchored" data-anchor-id="splitting-the-users-into-two-groups">Splitting the users into two groups:</h5>
<div class="cell" data-execution_count="35">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>average_reviewer[<span class="st">"rated_1"</span>] <span class="op">=</span> average_reviewer[<span class="st">"user_ratings"</span>].<span class="bu">apply</span>(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> lst: <span class="dv">1</span> <span class="kw">in</span> lst</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="removing-a-single-worst-rating-from-every-users-list-of-ratings" class="level5">
<h5 class="anchored" data-anchor-id="removing-a-single-worst-rating-from-every-users-list-of-ratings">Removing a single worst rating from every user’s list of ratings:</h5>
<div class="cell" data-execution_count="36">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>average_reviewer[<span class="st">"ratings_updated"</span>] <span class="op">=</span> average_reviewer[<span class="st">"user_ratings"</span>].<span class="bu">apply</span>(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: np.delete(x, x.argmin())</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="identifying-those-who-gave-one-more-bad-rating" class="level5">
<h5 class="anchored" data-anchor-id="identifying-those-who-gave-one-more-bad-rating">Identifying those who gave one more bad rating:</h5>
<div class="cell" data-execution_count="37">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>average_reviewer[<span class="st">"rated_bad_again"</span>] <span class="op">=</span> average_reviewer[<span class="st">"ratings_updated"</span>].<span class="bu">apply</span>(</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: np.<span class="bu">any</span>(x <span class="op">&lt;</span> <span class="dv">3</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>average_user_n <span class="op">=</span> <span class="bu">len</span>(average_reviewer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="how-many-people-gave-at-least-one-1-rating" class="level4" data-number="3.1.1">
<h4 data-number="3.1.1" class="anchored" data-anchor-id="how-many-people-gave-at-least-one-1-rating"><span class="header-section-number">3.1.1</span> How many people gave at least one “1” rating?</h4>
<div class="cell" data-execution_count="38">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>average_reviewer[<span class="st">"rated_1"</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>True     19163
False    17873
Name: rated_1, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="what-is-the-difference-in-proportions-of-people-who-gave-another-bad-rating-between-1-raters-and-1-non-raters" class="level4" data-number="3.1.2">
<h4 data-number="3.1.2" class="anchored" data-anchor-id="what-is-the-difference-in-proportions-of-people-who-gave-another-bad-rating-between-1-raters-and-1-non-raters"><span class="header-section-number">3.1.2</span> What is the difference in proportions of people who gave another bad rating between “1-raters” and “1-non-raters”?</h4>
<section id="what-are-the-proportions-of-users-who-rated-badly-again-between-the-two-groups" class="level5">
<h5 class="anchored" data-anchor-id="what-are-the-proportions-of-users-who-rated-badly-again-between-the-two-groups">What are the proportions of users who rated badly again between the two groups?</h5>
<div class="cell" data-execution_count="39">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>group_1raters_n <span class="op">=</span> (</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">len</span>(average_reviewer.loc[average_reviewer[<span class="st">"rated_1"</span>], <span class="st">"rated_bad_again"</span>])</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>group_1nonraters_n <span class="op">=</span> (</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">len</span>(average_reviewer.loc[</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">~</span>average_reviewer[<span class="st">"rated_1"</span>], <span class="st">"rated_bad_again"</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    ])</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>group_1raters_p <span class="op">=</span> (</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    average_reviewer.loc[average_reviewer[<span class="st">"rated_1"</span>], <span class="st">"rated_bad_again"</span>].value_counts()[</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>        <span class="va">True</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">/</span> group_1raters_n</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>group_1nonraters_p <span class="op">=</span> (</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    average_reviewer.loc[</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">~</span>average_reviewer[<span class="st">"rated_1"</span>], <span class="st">"rated_bad_again"</span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>    ].value_counts()[<span class="va">True</span>]</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">/</span> group_1nonraters_n</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>Markdown(</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"Group 1-raters p = </span><span class="sc">{</span><span class="bu">round</span>(group_1raters_p,<span class="dv">2</span>)<span class="sc">}</span><span class="ss"> &lt;br /&gt;Group-1-non-raters p = </span><span class="sc">{</span><span class="bu">round</span>(group_1nonraters_p, <span class="dv">2</span>)<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="39">
<p>Group 1-raters p = 0.51 <br>Group-1-non-raters p = 0.06</p>
</div>
</div>
</section>
<section id="calculating-the-standard-error" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-standard-error">Calculating the standard error:</h5>
<div class="cell" data-execution_count="40">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>low_ratings_se<span class="op">=</span>np.sqrt(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    (group_1raters_p<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>group_1raters_p)<span class="op">/</span>group_1raters_n)<span class="op">+</span>(group_1nonraters_p<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>group_1nonraters_p)<span class="op">/</span>group_1nonraters_n)    </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="calculating-the-margin-of-error" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-margin-of-error">Calculating the margin of error:</h5>
<div class="cell" data-execution_count="41">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>low_ratings_er<span class="op">=</span>stats.norm.ppf(<span class="fl">0.95</span>)<span class="op">*</span>low_ratings_se</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>To analyze the outcomes, the critical values from the z-distribution were employed, given that the results were binary (boolean) and the population size was deemed sufficiently large. As it was established that one proportion is anticipated to be greater than the other, a one-tailed critical value coefficient was utilized in the analysis.</p>
</section>
<section id="what-is-the-difference-in-proportions-of-users-that-gave-another-bad-rating-between-1-raters-and-1-non-raters-with-a-95-confidence" class="level5">
<h5 class="anchored" data-anchor-id="what-is-the-difference-in-proportions-of-users-that-gave-another-bad-rating-between-1-raters-and-1-non-raters-with-a-95-confidence">What is the difference in proportions of users that gave another bad rating between “1-raters” and “1-non-raters”, with a 95% confidence:</h5>
<div class="cell" data-execution_count="42">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>Markdown(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"""The difference is between </span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="sc">{</span><span class="bu">round</span>((group_1raters_p<span class="op">-</span>group_1nonraters_p<span class="op">-</span>low_ratings_er)<span class="op">*</span><span class="dv">100</span>,<span class="dv">1</span>)<span class="sc">}</span><span class="ss">%</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="ss">and </span><span class="sc">{</span><span class="bu">round</span>((group_1raters_p<span class="op">-</span>group_1nonraters_p<span class="op">+</span>low_ratings_er)<span class="op">*</span><span class="dv">100</span>,<span class="dv">1</span>)<span class="sc">}</span><span class="ss">%"""</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="42">
<p>The difference is between 43.9% and 45.3%</p>
</div>
</div>
<p>When one of the proportions is small in absolute terms, relying solely on the difference in proportions may not provide a complete picture. Instead, calculating the ratio of proportions offers a better understanding of the disparity between the populations. Using a ratio allows us to compare the proportions and assess the relative magnitude of the difference, providing a more nuanced interpretation of the results.</p>
</section>
</section>
<section id="what-is-the-ratio-of-the-proportions-of-users-who-gave-another-low-rating-between-1-raters-and-1-non-raters" class="level4" data-number="3.1.3">
<h4 data-number="3.1.3" class="anchored" data-anchor-id="what-is-the-ratio-of-the-proportions-of-users-who-gave-another-low-rating-between-1-raters-and-1-non-raters"><span class="header-section-number">3.1.3</span> What is the ratio of the proportions of users who gave another low rating between 1-raters and 1-non-raters:</h4>
<section id="katz-logarithmic-95-confidence-intervals-for-the-ratio-of-population-proportions" class="level5">
<h5 class="anchored" data-anchor-id="katz-logarithmic-95-confidence-intervals-for-the-ratio-of-population-proportions">Katz logarithmic 95% confidence intervals for the ratio of population proportions:</h5>
<div class="cell" data-execution_count="43">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>proportion_ratio<span class="op">=</span>stats.contingency.relative_risk(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(group_1raters_p <span class="op">*</span> group_1raters_n),</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    group_1raters_n,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">int</span>(group_1nonraters_p <span class="op">*</span> group_1nonraters_n),</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    group_1nonraters_n,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>Markdown(<span class="ss">f"""The proportion of people who gave another bad rating is </span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="ss">         </span><span class="sc">{</span><span class="bu">str</span>(<span class="bu">round</span>(proportion_ratio.confidence_interval(<span class="fl">0.95</span>)[<span class="dv">0</span>],<span class="dv">1</span>))<span class="sc">}</span><span class="ss"> to</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="ss">         </span><span class="sc">{</span><span class="bu">str</span>(<span class="bu">round</span>(proportion_ratio.confidence_interval(<span class="fl">0.95</span>)[<span class="dv">1</span>],<span class="dv">1</span>))<span class="sc">}</span><span class="ss"> </span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="ss">         times larger in "1-raters" than "1-non-raters" """</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="43">
<p>The proportion of people who gave another bad rating is 7.5 to 8.4 times larger in “1-raters” than “1-non-raters”</p>
</div>
</div>
</section>
<section id="what-are-the-odds-ratio-of-another-bad-rating-occurring-in-the-two-groups" class="level5">
<h5 class="anchored" data-anchor-id="what-are-the-odds-ratio-of-another-bad-rating-occurring-in-the-two-groups">What are the odds ratio of another bad rating occurring in the two groups?</h5>
<div class="cell" data-execution_count="44">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>bad_rates_con_tab <span class="op">=</span> [</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">int</span>(group_1raters_p <span class="op">*</span> group_1raters_n),</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">int</span>(group_1nonraters_p <span class="op">*</span> group_1nonraters_n),</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">int</span>((<span class="dv">1</span> <span class="op">-</span> group_1raters_p) <span class="op">*</span> group_1raters_n),</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">int</span>((<span class="dv">1</span> <span class="op">-</span> group_1nonraters_p) <span class="op">*</span> group_1nonraters_n),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>bad_rates_odds <span class="op">=</span> stats.contingency.odds_ratio(bad_rates_con_tab)</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>Markdown(<span class="ss">f"""The odds of at least one more bad rating are</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="ss">         </span><span class="sc">{</span><span class="bu">str</span>(<span class="bu">round</span>(bad_rates_odds.confidence_interval(<span class="fl">0.95</span>)[<span class="dv">0</span>],<span class="dv">1</span>))<span class="sc">}</span><span class="ss"> to</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="ss">         </span><span class="sc">{</span><span class="bu">str</span>(<span class="bu">round</span>(bad_rates_odds.confidence_interval(<span class="fl">0.95</span>)[<span class="dv">1</span>],<span class="dv">1</span>))<span class="sc">}</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="ss">         times more likely to occur in the "1-rater" group</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="ss">         """</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="44">
<p>The odds of at least one more bad rating are 14.2 to 16.2 times more likely to occur in the “1-rater” group</p>
</div>
</div>
</section>
<section id="experiment-summary" class="level5">
<h5 class="anchored" data-anchor-id="experiment-summary">Experiment Summary</h5>
<p>This experiment does have an inherent flaw from a probability perspective. The “1-non-raters” group has one less option for assigning a bad rating, as they only have the option of rating as “2” instead of both “1” and “2”. This discrepancy implies that, if ratings were entirely random, the odds of another bad rating would be almost twice as high in the “1-raters” group. However, observational logic suggests that assigning a bad rating should be a rare and independent event.</p>
<p>Interestingly, the results of this experiment reveal a significant difference in proportions between users who gave another bad rating in the “1-raters” and “1-non-raters” groups, far grater than the expected default two times difference in odds. This finding supports the premise that certain individuals tend to consistently leave more negative ratings. Despite the flaw in the probability perspective, the experiment’s outcomes provide evidence for the hypothesis that some users exhibit a tendency to consistently provide unfavorable reviews.</p>
</section>
</section>
</section>
<section id="is-the-average-of-other-ratings-between-1-raters-and-1-non-raters-different" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="is-the-average-of-other-ratings-between-1-raters-and-1-non-raters-different"><span class="header-section-number">3.2</span> Is the average of other ratings between “1-raters” and “1-non-raters” different?</h3>
<p>This section examines the disparity in means of ratings between the two groups established in the initial experiment. The average ratings were calculated from the lists with the single worst rating removed for each user in both groups. By comparing the means of ratings, we aim to assess whether there is a significant difference in the average ratings between the two groups.</p>
<section id="calculating-the-average-rating-for-each-user" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-average-rating-for-each-user">Calculating the average rating for each user:</h5>
<div class="cell" data-execution_count="45">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>average_reviewer[<span class="st">"avg_rating_updated"</span>] <span class="op">=</span> average_reviewer[<span class="st">"ratings_updated"</span>].<span class="bu">apply</span>(</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: np.mean(x)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="calculating-the-population-averages" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-population-averages">Calculating the population averages:</h5>
<div class="cell" data-execution_count="46">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>group_1raters_mean<span class="op">=</span>average_reviewer.loc[average_reviewer[<span class="st">'rated_1'</span>]<span class="op">==</span><span class="va">True</span>,<span class="st">'avg_rating_updated'</span>].mean()</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>group_1nonraters_mean<span class="op">=</span>average_reviewer.loc[average_reviewer[<span class="st">'rated_1'</span>]<span class="op">==</span><span class="va">False</span>,<span class="st">'avg_rating_updated'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="average-rating-distribution-between-the-two-groups" class="level5">
<h5 class="anchored" data-anchor-id="average-rating-distribution-between-the-two-groups">Average rating distribution between the two groups:</h5>
<div class="cell" data-execution_count="47">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>fig_user_rating_means,ax_user_rating_means<span class="op">=</span>plt.subplots(figsize<span class="op">=</span>(base_fig_width,base_fig_height))</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>average_reviewer.plot.box(column<span class="op">=</span><span class="st">'avg_rating_updated'</span>,by<span class="op">=</span><span class="st">'rated_1'</span>,ax<span class="op">=</span>ax_user_rating_means)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>axis_titles(ax_user_rating_means,ytitle<span class="op">=</span><span class="st">'Average Rating'</span>)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>ax_user_rating_means.set_xticklabels((<span class="st">'1-non-raters'</span>, <span class="st">'1-raters'</span>))</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-user-rating-means" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-user-rating-means-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;6: Box plots of average ratings by distinct users in both groups.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>From the distribution of average ratings shown in <a href="#fig-user-rating-means">Figure&nbsp;6</a> it is clear that the ratings tend to be lower and more deviated from the mean in “1-raters”. To establish a more precise difference the difference in means with a 95% confidence will be calculated.</p>
</section>
<section id="calculating-the-standard-deviations-between-the-groups" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-standard-deviations-between-the-groups">Calculating the standard deviations between the groups:</h5>
<div class="cell" data-execution_count="48">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>group_1raters_std<span class="op">=</span>average_reviewer.loc[average_reviewer[<span class="st">'rated_1'</span>]<span class="op">==</span><span class="va">True</span>,<span class="st">'avg_rating_updated'</span>].std()</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>group_1nonraters_std<span class="op">=</span>average_reviewer.loc[average_reviewer[<span class="st">'rated_1'</span>]<span class="op">==</span><span class="va">False</span>,<span class="st">'avg_rating_updated'</span>].std()</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>Markdown(<span class="ss">f"""Group 1-raters Standard deviation: </span><span class="sc">{</span><span class="bu">round</span>(group_1raters_std,<span class="dv">2</span>)<span class="sc">}</span><span class="ss">&lt;br /&gt;</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="ss">Group 1-non-raters Standard deviation: </span><span class="sc">{</span><span class="bu">round</span>(group_1nonraters_std,<span class="dv">2</span>)<span class="sc">}</span><span class="ss">"""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="48">
<p>Group 1-raters Standard deviation: 1.08<br> Group 1-non-raters Standard deviation: 0.54</p>
</div>
</div>
</section>
<section id="calculating-the-margin-of-error-95-confidence" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-margin-of-error-95-confidence">Calculating the Margin of error 95% confidence:</h5>
<div class="cell" data-execution_count="49">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>avg_rate_dif_me <span class="op">=</span> (</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    stats.norm.ppf(<span class="fl">0.95</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span> (group_1nonraters_mean <span class="op">-</span> group_1raters_mean)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span> np.sqrt(</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>        (group_1raters_std <span class="op">/</span> group_1raters_n)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span> (group_1nonraters_std <span class="op">/</span> group_1nonraters_n)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="the-difference-in-mean-rating-between-groups-1-raters-and-1-non-raters-with-95-confidence" class="level5">
<h5 class="anchored" data-anchor-id="the-difference-in-mean-rating-between-groups-1-raters-and-1-non-raters-with-95-confidence">The difference in mean rating between Groups 1-raters and 1-non-raters with 95% confidence:</h5>
<div class="cell" data-execution_count="50">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>Markdown(</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"""The mean average rating of 1-raters is between </span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="sc">{</span><span class="bu">round</span>((group_1nonraters_mean<span class="op">-</span>group_1raters_mean<span class="op">-</span>avg_rate_dif_me),<span class="dv">2</span>)<span class="sc">}</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="ss">and </span><span class="sc">{</span><span class="bu">round</span>((group_1nonraters_mean<span class="op">-</span>group_1raters_mean<span class="op">+</span>avg_rate_dif_me),<span class="dv">2</span>)<span class="sc">}</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="ss">lower than that of 1-non-raters.</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="ss">"""</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="50">
<p>The mean average rating of 1-raters is between 0.79 and 0.81 lower than that of 1-non-raters.</p>
</div>
</div>
</section>
<section id="experiment-summary-1" class="level5">
<h5 class="anchored" data-anchor-id="experiment-summary-1">Experiment summary</h5>
<p>The average rating of 1-raters is significantly lower than that of 1-non-raters, which also supports the initial premise.</p>
</section>
</section>
<section id="sec-only_bad" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="sec-only_bad"><span class="header-section-number">3.3</span> What is the percentage of people that only leave bad ratings ( below 3)?</h3>
<section id="identifying-the-users-who-only-left-ratings-1-and-2" class="level5">
<h5 class="anchored" data-anchor-id="identifying-the-users-who-only-left-ratings-1-and-2">Identifying the users who only left ratings “1” and “2”</h5>
<div class="cell" data-execution_count="51">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>average_reviewer[<span class="st">"only_bad"</span>] <span class="op">=</span> average_reviewer[<span class="st">"user_ratings"</span>].<span class="bu">apply</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: np.<span class="bu">all</span>(x <span class="op">&lt;</span> <span class="dv">3</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="calculating-the-proportion" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-proportion">Calculating the proportion</h5>
<div class="cell" data-execution_count="52">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>only_bad_p <span class="op">=</span> average_reviewer[<span class="st">"only_bad"</span>].value_counts()[<span class="dv">1</span>] <span class="op">/</span> average_user_n</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>Markdown(</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"""The proportion of users who only left ratings of "1" and "2" is</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="ss">     </span><span class="sc">{</span><span class="bu">round</span>(only_bad_p<span class="op">*</span><span class="dv">100</span>,<span class="dv">2</span>)<span class="sc">}</span><span class="ss">%."""</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="52">
<p>The proportion of users who only left ratings of “1” and “2” is 2.17%.</p>
</div>
</div>
</section>
<section id="calculating-the-margin-of-error." class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-margin-of-error.">Calculating the margin of error.</h5>
<div class="cell" data-execution_count="53">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>only_bad_me<span class="op">=</span>stats.norm.ppf((<span class="dv">1</span> <span class="op">+</span> <span class="fl">0.95</span>)<span class="op">/</span><span class="dv">2</span>)<span class="op">*</span>np.sqrt(only_bad_p<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>only_bad_p)<span class="op">/</span>average_user_n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="result" class="level5">
<h5 class="anchored" data-anchor-id="result">Result:</h5>
<div class="cell" data-execution_count="54">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>Markdown(<span class="ss">f"""</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="ss">There is between </span><span class="sc">{</span><span class="bu">round</span>((only_bad_p<span class="op">-</span>only_bad_me)<span class="op">*</span><span class="dv">100</span>,<span class="dv">2</span>)<span class="sc">}</span><span class="ss">%</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="ss">and </span><span class="sc">{</span><span class="bu">round</span>((only_bad_p<span class="op">+</span>only_bad_me)<span class="op">*</span><span class="dv">100</span>,<span class="dv">2</span>)<span class="sc">}</span><span class="ss">% of users that</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="ss">only left ratings "1" and "2"</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="ss">"""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="54">
<p>There is between 2.02% and 2.31% of users that only left ratings “1” and “2”</p>
</div>
</div>
</section>
<section id="experiment-summary-2" class="level5">
<h5 class="anchored" data-anchor-id="experiment-summary-2">Experiment summary</h5>
<p>There are 2.0% to 2.3% percent of users who only left bad ratings. Keeping in mind that this is from a population that left 5 to 10 ratings, this is a significant amount of users that only down rank certain podcasts and not necceraly contribute to an objective evaluation of their quality.</p>
</section>
<section id="data-preparation-for-looker-studio" class="level5">
<h5 class="anchored" data-anchor-id="data-preparation-for-looker-studio">Data Preparation for Looker Studio</h5>
<div class="cell" data-execution_count="55">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>sad_users<span class="op">=</span><span class="st">","</span>.join([<span class="ss">f"'</span><span class="sc">{</span><span class="bu">id</span><span class="sc">}</span><span class="ss">'"</span> <span class="cf">for</span> <span class="bu">id</span> <span class="kw">in</span> average_reviewer.loc[average_reviewer[<span class="st">'only_bad'</span>], <span class="st">'author_id'</span>]])</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="co"># podcasts rated by users who only left bad ratings</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>pods_rated_by_sads<span class="op">=</span>con.execute(</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"""--sql</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="ss">    SELECT DISTINCT podcast_id</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="ss">    FROM database.reviews</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="ss">    WHERE author_id IN (</span><span class="sc">{</span>sad_users<span class="sc">}</span><span class="ss">)</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="ss">        """</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>).fetchnumpy()[<span class="st">'podcast_id'</span>]</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>pods_rated_by_sads_full<span class="op">=</span>podcasts_categories.loc[podcasts_categories[<span class="st">'podcast_id'</span>].isin(pods_rated_by_sads)]</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a><span class="co"># counting the number of times each category was tagged in podcasts rated by sad users</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>cat_by_sads_counter <span class="op">=</span> Counter()</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> cat <span class="kw">in</span> pods_rated_by_sads_full[<span class="st">"categories_agg"</span>]:</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>    cat_by_sads_counter.update(cat)</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>cats_rated_by_sads <span class="op">=</span> pd.DataFrame.from_dict(</span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">dict</span>(cat_by_sads_counter), orient<span class="op">=</span><span class="st">"index"</span>, columns<span class="op">=</span>[<span class="st">"Frequency"</span>]</span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>).sort_values(<span class="st">"Frequency"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Exporting to csv</span></span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>cats_rated_by_sads<span class="op">=</span>cats_rated_by_sads.join(category_frequency,rsuffix<span class="op">=</span><span class="st">'_Full'</span>)</span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>cats_rated_by_sads.index.name<span class="op">=</span><span class="st">'Category'</span></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>cats_rated_by_sads.to_csv(<span class="st">'cats_by_sads.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="fig-cats-by-sads" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<iframe width="800" height="500" src="https://lookerstudio.google.com/embed/reporting/c71f2848-3e5f-48c4-b46e-0a8fbe0da22b/page/knaSD" frameborder="0" style="border:0" allowfullscreen="">
</iframe>
<p></p><figcaption class="figure-caption">Figure&nbsp;7: Top categories rated by negative users identified in <a href="#sec-only_bad">Section&nbsp;3.3</a> . The bars display the percentage of reviews left by the negative users when compared to the total amount of reviews for that category.</figcaption><p></p>
</figure>
</div>
</section>
</section>
</section>
<section id="rating-polarization-analysis" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="rating-polarization-analysis"><span class="header-section-number">4</span> Rating Polarization Analysis</h2>
<p>The underlying premise of this section posits that podcasts centered around certain topics, such as politics, may exhibit a higher degree of polarization in user ratings. This polarization suggests that such podcasts are more likely to receive a significant number of very positive or very negative ratings, while receiving fewer ratings in the moderate range. This phenomenon may indicate that user evaluations are influenced more by personal biases rather than the quality of the podcasts.</p>
<p>To examine this premise, a new metric called “<b>polarization points</b>” was introduced. This metric assigned two points for each “1” or “5” rating, one point for each “2” or “4” rating, and zero points for “3” ratings. The distribution of these polarization points across various categories was then evaluated. By analyzing this distribution, we aim to assess whether podcasts with specific topics, such as politics, exhibit a higher concentration of extreme ratings and a lower presence of moderate ratings, supporting the notion of polarization in user evaluations.</p>
<section id="getting-the-list-of-non-aggregated-category-names" class="level5">
<h5 class="anchored" data-anchor-id="getting-the-list-of-non-aggregated-category-names">Getting the list of non aggregated category names:</h5>
<div class="cell" data-execution_count="56">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>topics_arr<span class="op">=</span>con.execute(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"""--sql</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="ss">        SELECT DISTINCT category</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="ss">        FROM database.categories</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="ss">            """</span>).fetchnumpy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Getting the average rating, the number of podcasts, the standard deviation of ratings, and the frequency of ratings in each category:</p>
<div class="cell" data-execution_count="57">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>topic_stats<span class="op">=</span>{}</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> topic <span class="kw">in</span> topics_arr[<span class="st">'category'</span>]:</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    topic_stats[topic]<span class="op">=</span>con.execute(</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"""--sql</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="ss">SELECT AVG(subq.rating) AS average_rating,</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="ss">       COUNT(subq.rating) AS num_podcasts,</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="ss">       stddev_pop(subq.rating) AS rating_std,</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="ss">       GROUP_CONCAT(DISTINCT grouped_subquery.rating) AS ratings,</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="ss">       GROUP_CONCAT(DISTINCT grouped_subquery.rating_frequency) AS rating_frequencies</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="ss">FROM (</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="ss">  SELECT rating, COUNT(*) AS rating_frequency</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="ss">  FROM database.reviews</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a><span class="ss">  WHERE podcast_id IN (</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a><span class="ss">    SELECT DISTINCT podcast_id</span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a><span class="ss">    FROM database.categories</span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a><span class="ss">    WHERE category = '</span><span class="sc">{</span>topic<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a><span class="ss">  )</span></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a><span class="ss">  GROUP BY rating</span></span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a><span class="ss">) AS grouped_subquery,</span></span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a><span class="ss">(</span></span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a><span class="ss">  SELECT rating</span></span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a><span class="ss">  FROM database.reviews</span></span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a><span class="ss">  WHERE podcast_id IN (</span></span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a><span class="ss">    SELECT DISTINCT podcast_id</span></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a><span class="ss">    FROM database.categories</span></span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a><span class="ss">    WHERE category = '</span><span class="sc">{</span>topic<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a><span class="ss">  )</span></span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a><span class="ss">) AS subq</span></span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a><span class="ss">            """</span></span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a>).fetchone()</span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a>topic_stats<span class="op">=</span>pd.DataFrame.from_dict(topic_stats).T</span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a>topic_stats.columns<span class="op">=</span>[<span class="st">'avg_rating'</span>,<span class="st">'n'</span>,<span class="st">'std'</span>,<span class="st">'ratings'</span>,<span class="st">'freq'</span>]</span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>topic_stats[[<span class="st">'ratings'</span>,<span class="st">'freq'</span>]]<span class="op">=</span>topic_stats[[<span class="st">'ratings'</span>,<span class="st">'freq'</span>]].applymap(</span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: np.fromstring(x, dtype<span class="op">=</span><span class="bu">int</span>, sep<span class="op">=</span><span class="st">","</span>)</span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>It should be noted that since podcasts can be tagged in several different topics, some of the reviews are counted in repeatedly in different topics.</p>
</section>
<section id="removing-badly-imported-topics." class="level5">
<h5 class="anchored" data-anchor-id="removing-badly-imported-topics.">Removing badly imported topics.</h5>
<div class="cell" data-execution_count="58">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>topic_stats<span class="op">=</span>topic_stats[topic_stats.<span class="bu">apply</span>(<span class="kw">lambda</span> x:<span class="bu">len</span>(x[<span class="st">'ratings'</span>])<span class="op">==</span><span class="bu">len</span>(x[<span class="st">'freq'</span>]),axis<span class="op">=</span><span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="calculating-polarization-points-for-each-category" class="level5">
<h5 class="anchored" data-anchor-id="calculating-polarization-points-for-each-category">Calculating polarization points for each category:</h5>
<div class="cell" data-execution_count="59">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>topic_stats[<span class="st">"pol_points"</span>] <span class="op">=</span> topic_stats.<span class="bu">apply</span>(</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> row: pol_points(row[<span class="st">"ratings"</span>], row[<span class="st">"freq"</span>]), axis<span class="op">=</span><span class="dv">1</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="calculating-the-margin-of-error-for-the-average-of-ratings-in-each-category" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-margin-of-error-for-the-average-of-ratings-in-each-category">Calculating the margin of error for the average of ratings in each category:</h5>
<div class="cell" data-execution_count="60">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>topic_stats[<span class="st">'ME'</span>]<span class="op">=</span>stats.norm.ppf(((<span class="dv">1</span> <span class="op">+</span> <span class="fl">0.95</span>) <span class="op">/</span> <span class="dv">2</span>))<span class="op">*</span>topic_stats[<span class="st">'std'</span>]<span class="op">/</span>(topic_stats[<span class="st">'n'</span>]<span class="op">**</span><span class="fl">0.5</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>topic_stats.index.name<span class="op">=</span><span class="st">'topic'</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>topic_stats[<span class="st">'avg_rating'</span>]<span class="op">=</span>topic_stats[<span class="st">'avg_rating'</span>].astype(<span class="bu">float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="the-top-topics-by-polarization-points" class="level5">
<h5 class="anchored" data-anchor-id="the-top-topics-by-polarization-points">The top topics by polarization points:</h5>
<div class="cell" data-execution_count="61">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>Markdown(</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    tabulate(</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>        topic_stats[[<span class="st">'avg_rating'</span>,<span class="st">'pol_points'</span>]]</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>        .sort_values(<span class="st">"pol_points"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>        .head(),</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>        showindex<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>        headers<span class="op">=</span><span class="st">"keys"</span>,</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>        tablefmt<span class="op">=</span><span class="st">"pipe"</span>,</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="61">
<div id="tbl-pol-point" class="anchored">
<table class="table table-sm table-striped small">
<caption>Table&nbsp;3: Topic with most polarization points.</caption>
<thead>
<tr class="header">
<th style="text-align: left;">topic</th>
<th style="text-align: right;">avg_rating</th>
<th style="text-align: right;">pol_points</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sports-rugby</td>
<td style="text-align: right;">4.98802</td>
<td style="text-align: right;">1.98802</td>
</tr>
<tr class="even">
<td style="text-align: left;">business-non-profit</td>
<td style="text-align: right;">4.90117</td>
<td style="text-align: right;">1.97354</td>
</tr>
<tr class="odd">
<td style="text-align: left;">business-entrepreneurship</td>
<td style="text-align: right;">4.90838</td>
<td style="text-align: right;">1.97348</td>
</tr>
<tr class="even">
<td style="text-align: left;">business-marketing</td>
<td style="text-align: right;">4.9371</td>
<td style="text-align: right;">1.97243</td>
</tr>
<tr class="odd">
<td style="text-align: left;">education-self-improvement</td>
<td style="text-align: right;">4.87677</td>
<td style="text-align: right;">1.96421</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Upon closer examination, it appears that the topics with the highest polarization points do not align with an intuitive observational perspective, as they seem to be neutral topics. Additionally, these topics also exhibit remarkably high average ratings. Considering that the majority of ratings are “5,” as demonstrated in <a href="#fig-reviews-pod">Figure&nbsp;1</a>, it is conceivable that a positive correlation exists between the polarization points and the average rating. This correlation could potentially obscure the true results.</p>
<p>To investigate this relationship further, a more detailed analysis is conducted using a linear fit. This analysis allows for the exploration of any outliers that do not conform to the expected trend. By closely examining these outliers, we aim to gain a deeper understanding of the relationship between polarization points and average ratings and to determine whether there are any exceptional cases that deviate from the overall pattern. This approach provides a more comprehensive assessment of the relationship between polarization points and ratings, shedding light on any potential nuances that may exist.</p>
</section>
<section id="creating-a-scatter-plot-of-average-ratings-and-polarization-points-with-a-linear-fit" class="level5">
<h5 class="anchored" data-anchor-id="creating-a-scatter-plot-of-average-ratings-and-polarization-points-with-a-linear-fit">Creating a scatter plot of average ratings and polarization points with a linear fit:</h5>
<div class="cell" data-execution_count="62">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>fig_topics_scatter <span class="op">=</span> px.scatter(</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    topic_stats,</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"avg_rating"</span>,</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pol_points"</span>,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    hover_name<span class="op">=</span>topic_stats.index,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    trendline<span class="op">=</span><span class="st">"ols"</span>,</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span>base_fig_width <span class="op">*</span> dpi,</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span>base_fig_height <span class="op">*</span> dpi,</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{<span class="st">"avg_rating"</span>: <span class="st">"Average Rating"</span>, <span class="st">"pol_points"</span>: <span class="st">"Review Polarization Points"</span>},</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>pol_line_results <span class="op">=</span> px.get_trendline_results(fig_topics_scatter)[<span class="st">"px_fit_results"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="the-r-square-of-the-linear-fit" class="level5">
<h5 class="anchored" data-anchor-id="the-r-square-of-the-linear-fit">The R-square of the linear fit:</h5>
<div class="cell" data-execution_count="63">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="bu">round</span>(pol_line_results.rsquared,<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>0.833</code></pre>
</div>
</div>
</section>
<section id="evaluating-the-distribution-of-residuals-from-the-fit" class="level5">
<h5 class="anchored" data-anchor-id="evaluating-the-distribution-of-residuals-from-the-fit">Evaluating the distribution of residuals from the fit:</h5>
<div class="cell" data-execution_count="64">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>fig_line_resids, (ax_resid_hist, ax_resid_qq) <span class="op">=</span> plt.subplots(</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(base_fig_width, base_fig_height)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>ax_resid_hist.hist(pol_line_results.resid)</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>dist_metrics <span class="op">=</span> {}</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>dist_metrics[<span class="st">"shape"</span>, <span class="st">"loc"</span>, <span class="st">"scale"</span>] <span class="op">=</span> stats.norm.fit(pol_line_results.resid)</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>probplot(</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>    pol_line_results.resid,</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">=</span><span class="st">"norm"</span>,</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>    sparams<span class="op">=</span>(dist_metrics[<span class="st">"shape"</span>, <span class="st">"loc"</span>, <span class="st">"scale"</span>]),</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>    plot<span class="op">=</span>ax_resid_qq,</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-line-resids" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-line-resids-output-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;8: The distribution of residuals of points from the linear fit is displayed on the left. The right chart displays the quantile-quantile plot of the residuals.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The distribution is skewed left, meaning that there are more extreme outliers on the “less polarized” side of the fit. Due to the skewness the t-distribution critical value will be used.</p>
</section>
<section id="calculating-the-root-mean-squared-error-of-residuals-and-margin-of-error" class="level5">
<h5 class="anchored" data-anchor-id="calculating-the-root-mean-squared-error-of-residuals-and-margin-of-error">Calculating the root mean squared error of residuals and margin of error:</h5>
<div class="cell" data-execution_count="65">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>pol_line_RMSE <span class="op">=</span> np.sqrt(np.mean(pol_line_results.resid<span class="op">**</span><span class="dv">2</span>))</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>pol_line_ME <span class="op">=</span> stats.t.ppf((<span class="dv">1</span> <span class="op">+</span> <span class="fl">0.90</span>) <span class="op">/</span> <span class="dv">2</span>, <span class="bu">len</span>(topic_stats)<span class="op">-</span><span class="dv">2</span>) <span class="op">*</span> pol_line_RMSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="generating-margin-of-error-lines" class="level5">
<h5 class="anchored" data-anchor-id="generating-margin-of-error-lines">Generating margin of error lines:</h5>
<div class="cell" data-execution_count="66">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>line_er_x<span class="op">=</span>np.linspace(topic_stats[<span class="st">'avg_rating'</span>].<span class="bu">min</span>(),<span class="dv">5</span>,<span class="dv">100</span>)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>line_fit<span class="op">=</span>np.polyfit(topic_stats[<span class="st">'avg_rating'</span>].values,topic_stats[<span class="st">'pol_points'</span>].values,<span class="dv">1</span>)</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>positive_line_er_y<span class="op">=</span>np.poly1d(line_fit)(line_er_x)<span class="op">+</span>pol_line_ME</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>negative_line_er_y<span class="op">=</span>np.poly1d(line_fit)(line_er_x)<span class="op">-</span>pol_line_ME</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="the-final-plot" class="level5">
<h5 class="anchored" data-anchor-id="the-final-plot">The final plot:</h5>
<div class="cell" data-execution_count="67">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>pol_pos_line<span class="op">=</span>px.line(x<span class="op">=</span>line_er_x,y<span class="op">=</span>positive_line_er_y).data[<span class="dv">0</span>]</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>pol_pos_line.update(line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'grey'</span>,dash<span class="op">=</span><span class="st">'dash'</span>))</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>pol_neg_line<span class="op">=</span>px.line(x<span class="op">=</span>line_er_x,y<span class="op">=</span>negative_line_er_y).data[<span class="dv">0</span>]</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>pol_neg_line.update(line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'grey'</span>,dash<span class="op">=</span><span class="st">'dash'</span>))</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>fig_topics_scatter.add_trace(pol_pos_line)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>fig_topics_scatter.add_trace(pol_neg_line)</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>default_plotly_margins(fig_topics_scatter)</span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>fig_topics_scatter.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-topics-scatter" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">

<div>                            <div id="3e1593d2-e867-464d-8fea-220132304fd5" class="plotly-graph-div" style="height:511.1949685534591px; width:817.9119496855345px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3e1593d2-e867-464d-8fea-220132304fd5")) {                    Plotly.newPlot(                        "3e1593d2-e867-464d-8fea-220132304fd5",                        [{"hovertemplate":"<b>%{hovertext}</b><br><br>Average Rating=%{x}<br>Review Polarization Points=%{y}<extra></extra>","hovertext":["arts","arts-performing-arts","music","arts-design","education","society-culture","arts-visual-arts","leisure","leisure-hobbies","arts-books","technology","society-culture-personal-journals","society-culture-relationships","fiction","fiction-science-fiction","arts-food","education-language-learning","fiction-drama","true-crime","health-fitness","health-fitness-nutrition","history","comedy","arts-fashion-beauty","tv-film","society-culture-places-travel","comedy-comedy-interviews","kids-family","health-fitness-mental-health","religion-spirituality","business","news","news-business-news","education-courses","society-culture-philosophy","leisure-video-games","tv-film-film-reviews","leisure-games","spirituality","tv-film-film-history","business-careers","business-entrepreneurship","science","science-earth-sciences","comedy-improv","tv-film-tv-reviews","health-fitness-sexuality","news-politics","leisure-home-garden","leisure-animation-manga","fiction-comedy-fiction","christianity","government","sports","music-music-commentary","business-marketing","music-music-interviews","education-how-to","science-social-sciences","society-culture-documentary","business-management","news-tech-news","education-self-improvement","sports-wilderness","health-fitness-alternative-health","health-fitness-medicine","business-investing","science-natural-sciences","science-nature","tv-film-after-shows","sports-soccer","leisure-automotive","kids-family-pets-animals","judaism","religion","sports-football","kids-family-parenting","health-fitness-fitness","news-entertainment-news","news-daily-news","kids-family-stories-for-kids","tv-film-film-interviews","music-music-history","science-life-sciences","comedy-stand-up","leisure-aviation","sports-golf","business-non-profit","islam","news-sports-news","sports-basketball","sports-baseball","sports-fantasy-sports","kids-family-education-for-kids","science-astronomy","science-physics","sports-running","sports-wrestling","buddhism","sports-swimming","sports-tennis","sports-hockey","sports-volleyball","sports-rugby","sports-cricket","news-news-commentary"],"legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[4.727781521962083,4.703887646362321,4.766756483664533,4.8113667691655175,4.813993535619458,4.546983981859082,4.822154105060704,4.759590405264981,4.7891896414675985,4.681932512331363,4.529647904992891,4.735194932865444,4.4666236142503495,4.603626711205226,4.565837410221714,4.781106547475235,4.668225172994203,4.537887212073074,4.1638572746847125,4.788055762721588,4.880982481488171,4.522414026079319,4.623423818861729,4.6497156239545,4.518006061854456,4.759043974294173,4.675124707319556,4.745690063016862,4.835223950415156,4.832466088806749,4.839409561074062,4.301109929549382,4.614394580863675,4.764462809917355,4.769980621293088,4.704959656942956,4.752083702784182,4.776599837558244,4.85644354351764,4.671958529078244,4.89006138610189,4.9083771590937415,4.524381533666645,4.721689059500959,4.744599079951086,4.552321552321552,4.476195393989466,4.205813564984965,4.823933975240715,4.810429114611624,4.834667790420003,4.823247356412365,4.43010266675276,4.612250937629831,4.823374050841862,4.937095153971388,4.799818080044781,4.800638451240861,4.420597355965399,4.313421405322612,4.867669814844459,4.409090909090909,4.876771096853628,4.7996786779894425,4.790271560728141,4.803187120092,4.681912782537148,4.4763779527559056,4.800247754722824,4.391995291347851,4.711517952364024,4.702031877357343,4.855482566953007,4.778606965174129,4.818252730109204,4.6511601963409195,4.796848574846347,4.861337554412347,4.654456654456655,3.9652029274783764,4.735020163448842,4.773748128431209,4.752938465084121,4.619645494830133,4.816260439747742,4.82992125984252,4.779472044597475,4.901167315175098,4.824821852731591,4.479803462263612,4.61247574161353,4.648123393316196,4.628656420426376,4.713295579410024,4.522222222222222,4.635775862068965,4.891992853662498,4.578386605783866,4.773038842345773,4.892307692307693,4.567986230636833,4.546756756756757,4.864077669902913,4.9880239520958085,4.7976190476190474,4.492889258950874],"xaxis":"x","y":[1.9067014387435168,1.894454677016182,1.918491074435837,1.9224896617537908,1.9407206386844038,1.8777479552994745,1.9257723284048565,1.9186872185659853,1.929423084968414,1.8861594747329566,1.8603328594128963,1.9152325132838068,1.887073512000861,1.8524859077216738,1.8139897991048195,1.9267939115728436,1.8761922573405647,1.8141382049245434,1.7755828975699786,1.9346681200160634,1.9529980133646379,1.8482028241335045,1.9088123631886174,1.899297423887588,1.8712650442868493,1.9197776012708498,1.923063218975873,1.9080767556724638,1.9459322496394185,1.952984662388412,1.9514710992426731,1.83790819265364,1.8775613886536833,1.9147065056155965,1.9372247342768218,1.903910173221238,1.9235680085121476,1.9210020091480358,1.9555550763391703,1.8783411631297586,1.9583835611357356,1.9734802223274595,1.8660476592429063,1.9251439539347408,1.9459616840388982,1.875061875061875,1.8645048022307136,1.8248830604744404,1.9334250343878954,1.9255839217816404,1.935243714004776,1.953683649714504,1.8560082649964487,1.8986790659556425,1.944206008583691,1.9724271710138903,1.9377973691575707,1.9349191638348264,1.8451118002284967,1.799604314251069,1.95080305213169,1.8328909533289095,1.9642077317455584,1.9348175350011476,1.932676812891674,1.9295219319862,1.9151541551715794,1.8498031496062992,1.9327965314338804,1.8610211889346675,1.9177035193743335,1.9020562112179098,1.9494694290045478,1.954868514570007,1.937857514300572,1.8993752788933511,1.9453450480551087,1.9553620894341115,1.91937181592354,1.7389886892880906,1.8906891260126333,1.940109798702379,1.9138050241991242,1.9194977843426884,1.9628430202829386,1.9181102362204725,1.9355632070831283,1.9735408560311285,1.950712589073634,1.8656801691138662,1.9001386193512615,1.8947043701799486,1.8907017622932347,1.8803144281971094,1.8797979797979798,1.8771551724137931,1.9546857235666721,1.908675799086758,1.8994668697638994,1.9538461538461538,1.8158347676419966,1.8786486486486487,1.9029126213592233,1.9880239520958083,1.8928571428571428,1.8904912572855954],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>pol_points = 0.233787 * avg_rating + 0.809908<br>R<sup>2</sup>=0.832895<br><br>Average Rating=%{x}<br>Review Polarization Points=%{y} <b>(trend)</b><extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"lines","name":"","showlegend":false,"x":[3.9652029274783764,4.1638572746847125,4.205813564984965,4.301109929549382,4.313421405322612,4.391995291347851,4.409090909090909,4.420597355965399,4.43010266675276,4.4666236142503495,4.476195393989466,4.4763779527559056,4.479803462263612,4.492889258950874,4.518006061854456,4.522222222222222,4.522414026079319,4.524381533666645,4.529647904992891,4.537887212073074,4.546756756756757,4.546983981859082,4.552321552321552,4.565837410221714,4.567986230636833,4.578386605783866,4.603626711205226,4.612250937629831,4.61247574161353,4.614394580863675,4.619645494830133,4.623423818861729,4.628656420426376,4.635775862068965,4.648123393316196,4.6497156239545,4.6511601963409195,4.654456654456655,4.668225172994203,4.671958529078244,4.675124707319556,4.681912782537148,4.681932512331363,4.702031877357343,4.703887646362321,4.704959656942956,4.711517952364024,4.713295579410024,4.721689059500959,4.727781521962083,4.735020163448842,4.735194932865444,4.744599079951086,4.745690063016862,4.752083702784182,4.752938465084121,4.759043974294173,4.759590405264981,4.764462809917355,4.766756483664533,4.769980621293088,4.773038842345773,4.773748128431209,4.776599837558244,4.778606965174129,4.779472044597475,4.781106547475235,4.788055762721588,4.7891896414675985,4.790271560728141,4.796848574846347,4.7976190476190474,4.7996786779894425,4.799818080044781,4.800247754722824,4.800638451240861,4.803187120092,4.810429114611624,4.8113667691655175,4.813993535619458,4.816260439747742,4.818252730109204,4.822154105060704,4.823247356412365,4.823374050841862,4.823933975240715,4.824821852731591,4.82992125984252,4.832466088806749,4.834667790420003,4.835223950415156,4.839409561074062,4.855482566953007,4.85644354351764,4.861337554412347,4.864077669902913,4.867669814844459,4.876771096853628,4.880982481488171,4.89006138610189,4.891992853662498,4.892307692307693,4.901167315175098,4.9083771590937415,4.937095153971388,4.9880239520958085],"xaxis":"x","y":[1.7369210700751578,1.7833638662914266,1.7931726999152953,1.8154517474259926,1.8183300099382331,1.836699560003001,1.840696292529611,1.8433863497817193,1.845608567508529,1.8541466888540128,1.8563844461550854,1.8564271260143812,1.857227965473676,1.8602872541196114,1.8661592351522927,1.8671449184737448,1.8671897597146936,1.8676497373352048,1.8688809462855431,1.8708071888524411,1.8728807727536658,1.8729338950199084,1.8741817493999637,1.877341580750109,1.8778439469457056,1.8802754190494833,1.8861762266031374,1.888192458293979,1.8882450145342544,1.8886936141320962,1.8899212093532571,1.8908045322480551,1.8920278462684395,1.8936922788974266,1.8965789707093783,1.8969512134722677,1.897288935661113,1.8980596045876053,1.9012785047004483,1.9021513146754239,1.902891525865934,1.9044784893452877,1.9044831019139277,1.9091820713908374,1.9096159259877024,1.9098665480840131,1.9113997920429302,1.9118153780686424,1.913777664275265,1.915202002561924,1.9168943025602874,1.916935161371153,1.9191337283435264,1.9193887859594898,1.9208835355734284,1.9210833678543107,1.9225107563007586,1.9226385047370773,1.9237776094158106,1.9243138404317677,1.9250676017713102,1.9257825739787224,1.9259483958174497,1.926615088229257,1.927084328495858,1.927286572785673,1.927668698246979,1.9292933341640282,1.9295584202307339,1.9298113588472126,1.9313489789934564,1.9315291054818817,1.9320106202079286,1.932043210590869,1.9321436629282696,1.9322350026800783,1.9328308482265806,1.9345239321203094,1.934743143529373,1.9353572472771323,1.9358872199052286,1.9363529914152018,1.93726508201067,1.9375206699222982,1.9375502894280054,1.9376811924518667,1.9378887666326166,1.9390809415263814,1.9396758893573907,1.9401906184876179,1.9403206414429763,1.9412991826408201,1.9450568418469556,1.9452815056380457,1.9464256615745226,1.9470662648491401,1.9479060615001855,1.9500338225665952,1.9510183893838882,1.95314091890701,1.9535924708391832,1.953666076009397,1.9557373403193417,1.9574229078217578,1.9641368005837272,1.9760432895485784],"yaxis":"y","type":"scatter"},{"hovertemplate":"x=%{x}<br>y=%{y}<extra></extra>","legendgroup":"","line":{"color":"grey","dash":"dash"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[3.9652029274783764,3.975655423160413,3.9861079188424497,3.9965604145244864,4.007012910206523,4.01746540588856,4.027917901570596,4.038370397252633,4.04882289293467,4.0592753886167054,4.069727884298742,4.080180379980779,4.090632875662815,4.101085371344852,4.111537867026889,4.121990362708925,4.132442858390962,4.142895354072999,4.153347849755035,4.163800345437072,4.174252841119109,4.184705336801145,4.195157832483182,4.205610328165219,4.216062823847255,4.226515319529291,4.236967815211328,4.247420310893364,4.257872806575401,4.268325302257438,4.278777797939474,4.289230293621511,4.299682789303548,4.310135284985584,4.320587780667621,4.331040276349658,4.341492772031694,4.351945267713731,4.362397763395768,4.372850259077804,4.383302754759841,4.3937552504418775,4.404207746123913,4.41466024180595,4.425112737487987,4.435565233170023,4.44601772885206,4.456470224534097,4.466922720216133,4.47737521589817,4.4878277115802065,4.498280207262243,4.50873270294428,4.5191851986263165,4.529637694308353,4.54009018999039,4.5505426856724265,4.560995181354462,4.571447677036499,4.581900172718536,4.592352668400572,4.602805164082609,4.6132576597646455,4.623710155446682,4.634162651128719,4.6446151468107555,4.655067642492792,4.665520138174829,4.6759726338568655,4.686425129538902,4.696877625220939,4.707330120902975,4.717782616585012,4.728235112267049,4.738687607949085,4.749140103631122,4.759592599313158,4.7700450949951945,4.780497590677231,4.790950086359268,4.801402582041304,4.811855077723341,4.822307573405378,4.832760069087414,4.843212564769451,4.853665060451488,4.864117556133524,4.874570051815561,4.885022547497598,4.895475043179634,4.90592753886167,4.916380034543707,4.926832530225743,4.93728502590778,4.947737521589817,4.958190017271853,4.96864251295389,4.979095008635927,4.989547504317963,5.0],"xaxis":"x","y":[1.7672861008864253,1.769729758091712,1.7721734152969986,1.774617072502285,1.7770607297075713,1.779504386912858,1.7819480441181446,1.7843917013234312,1.7868353585287178,1.789279015734004,1.7917226729392906,1.7941663301445772,1.7966099873498638,1.7990536445551502,1.8014973017604365,1.8039409589657232,1.8063846161710098,1.8088282733762964,1.811271930581583,1.8137155877868694,1.816159244992156,1.8186029021974424,1.821046559402729,1.8234902166080156,1.8259338738133022,1.8283775310185884,1.830821188223875,1.8332648454291616,1.8357085026344482,1.8381521598397346,1.840595817045021,1.8430394742503076,1.8454831314555942,1.8479267886608808,1.8503704458661674,1.852814103071454,1.8552577602767406,1.8577014174820268,1.8601450746873134,1.8625887318926,1.8650323890978866,1.8674760463031732,1.8699197035084594,1.872363360713746,1.8748070179190326,1.8772506751243192,1.8796943323296058,1.882137989534892,1.8845816467401786,1.8870253039454652,1.8894689611507518,1.8919126183560384,1.894356275561325,1.8967999327666112,1.8992435899718978,1.9016872471771844,1.904130904382471,1.9065745615877572,1.9090182187930438,1.9114618759983304,1.913905533203617,1.9163491904089036,1.9187928476141902,1.9212365048194764,1.923680162024763,1.9261238192300496,1.9285674764353362,1.9310111336406228,1.9334547908459094,1.9358984480511956,1.9383421052564822,1.9407857624617688,1.9432294196670554,1.945673076872342,1.9481167340776286,1.9505603912829153,1.9530040484882014,1.955447705693488,1.9578913628987746,1.9603350201040608,1.9627786773093474,1.965222334514634,1.9676659917199206,1.9701096489252072,1.9725533061304938,1.9749969633357805,1.9774406205410666,1.9798842777463532,1.9823279349516398,1.9847715921569264,1.9872152493622126,1.9896589065674992,1.9921025637727858,1.9945462209780724,1.996989878183359,1.9994335353886457,2.001877192593932,2.0043208497992184,2.006764507004505,2.0092081642097916],"yaxis":"y","type":"scatter"},{"hovertemplate":"x=%{x}<br>y=%{y}<extra></extra>","legendgroup":"","line":{"color":"grey","dash":"dash"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[3.9652029274783764,3.975655423160413,3.9861079188424497,3.9965604145244864,4.007012910206523,4.01746540588856,4.027917901570596,4.038370397252633,4.04882289293467,4.0592753886167054,4.069727884298742,4.080180379980779,4.090632875662815,4.101085371344852,4.111537867026889,4.121990362708925,4.132442858390962,4.142895354072999,4.153347849755035,4.163800345437072,4.174252841119109,4.184705336801145,4.195157832483182,4.205610328165219,4.216062823847255,4.226515319529291,4.236967815211328,4.247420310893364,4.257872806575401,4.268325302257438,4.278777797939474,4.289230293621511,4.299682789303548,4.310135284985584,4.320587780667621,4.331040276349658,4.341492772031694,4.351945267713731,4.362397763395768,4.372850259077804,4.383302754759841,4.3937552504418775,4.404207746123913,4.41466024180595,4.425112737487987,4.435565233170023,4.44601772885206,4.456470224534097,4.466922720216133,4.47737521589817,4.4878277115802065,4.498280207262243,4.50873270294428,4.5191851986263165,4.529637694308353,4.54009018999039,4.5505426856724265,4.560995181354462,4.571447677036499,4.581900172718536,4.592352668400572,4.602805164082609,4.6132576597646455,4.623710155446682,4.634162651128719,4.6446151468107555,4.655067642492792,4.665520138174829,4.6759726338568655,4.686425129538902,4.696877625220939,4.707330120902975,4.717782616585012,4.728235112267049,4.738687607949085,4.749140103631122,4.759592599313158,4.7700450949951945,4.780497590677231,4.790950086359268,4.801402582041304,4.811855077723341,4.822307573405378,4.832760069087414,4.843212564769451,4.853665060451488,4.864117556133524,4.874570051815561,4.885022547497598,4.895475043179634,4.90592753886167,4.916380034543707,4.926832530225743,4.93728502590778,4.947737521589817,4.958190017271853,4.96864251295389,4.979095008635927,4.989547504317963,5.0],"xaxis":"x","y":[1.7065560392638948,1.7089996964691814,1.711443353674468,1.7138870108797544,1.7163306680850408,1.7187743252903274,1.721217982495614,1.7236616397009006,1.7261052969061872,1.7285489541114734,1.73099261131676,1.7334362685220466,1.7358799257273332,1.7383235829326196,1.740767240137906,1.7432108973431926,1.7456545545484792,1.7480982117537658,1.7505418689590524,1.7529855261643388,1.7554291833696254,1.7578728405749118,1.7603164977801984,1.762760154985485,1.7652038121907716,1.7676474693960578,1.7700911266013444,1.772534783806631,1.7749784410119176,1.777422098217204,1.7798657554224904,1.782309412627777,1.7847530698330636,1.7871967270383502,1.7896403842436368,1.7920840414489234,1.79452769865421,1.7969713558594962,1.7994150130647828,1.8018586702700694,1.804302327475356,1.8067459846806426,1.8091896418859288,1.8116332990912154,1.814076956296502,1.8165206135017886,1.8189642707070752,1.8214079279123614,1.823851585117648,1.8262952423229346,1.8287388995282212,1.8311825567335078,1.8336262139387944,1.8360698711440806,1.8385135283493672,1.8409571855546538,1.8434008427599404,1.8458444999652266,1.8482881571705132,1.8507318143757998,1.8531754715810864,1.855619128786373,1.8580627859916596,1.8605064431969458,1.8629501004022324,1.865393757607519,1.8678374148128056,1.8702810720180922,1.8727247292233788,1.875168386428665,1.8776120436339516,1.8800557008392382,1.8824993580445248,1.8849430152498114,1.887386672455098,1.8898303296603847,1.8922739868656708,1.8947176440709574,1.897161301276244,1.8996049584815302,1.9020486156868168,1.9044922728921034,1.90693593009739,1.9093795873026767,1.9118232445079633,1.9142669017132499,1.916710558918536,1.9191542161238226,1.9215978733291093,1.9240415305343959,1.926485187739682,1.9289288449449686,1.9313725021502552,1.9338161593555419,1.9362598165608285,1.938703473766115,1.9411471309714012,1.9435907881766878,1.9460344453819745,1.948478102587261],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Average Rating"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Review Polarization Points"}},"legend":{"tracegroupgap":0},"margin":{"t":25,"l":65,"r":10,"b":30},"height":511.1949685534591,"width":817.9119496855345},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3e1593d2-e867-464d-8fea-220132304fd5');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
<p></p><figcaption class="figure-caption">Figure&nbsp;9: A scatter plot of category polarization point over the average rating of podcasts tagged in that category. The blue trend line is a linear fit, the grey dashed lines signify the 90% confidence margin of error of point distance from the model.</figcaption><p></p>
</figure>
</div>
</div>
</section>
<section id="calculating-distance-from-the-linear-fit" class="level5">
<h5 class="anchored" data-anchor-id="calculating-distance-from-the-linear-fit">Calculating distance from the linear fit:</h5>
<div class="cell" data-execution_count="68">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>topic_stats[<span class="st">"residuals"</span>] <span class="op">=</span> topic_stats[<span class="st">"pol_points"</span>] <span class="op">-</span> np.poly1d(line_fit)(</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    topic_stats[<span class="st">"avg_rating"</span>]</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="tbl-pol" class="tbl-parent quarto-layout-panel anchored">
<div class="panel-caption table-caption">
<p>Topic polarization results from <a href="#fig-topics-scatter">Figure&nbsp;9</a>. The topics are grouped into Polarizing, Non-Polarizing, and Neutral based on whether they are above or below the linear fit by 1 standard deviation of residuals.</p>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<iframe width="800" height="600" src="https://lookerstudio.google.com/embed/reporting/7e9a42b5-f87e-4f60-9692-75d1838c4b48/page/DuBTD" frameborder="0" style="border:0" allowfullscreen="">
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
</iframe>
</div>
</div>
</div>
</section>
<section id="does-the-average-comment-length-correlate-with-topic-polarization-or-average-rating" class="level4" data-number="4.0.1">
<h4 data-number="4.0.1" class="anchored" data-anchor-id="does-the-average-comment-length-correlate-with-topic-polarization-or-average-rating"><span class="header-section-number">4.0.1</span> Does the average comment length correlate with topic polarization or average rating?</h4>
<section id="preparing-the-data-for-looker-studio" class="level5">
<h5 class="anchored" data-anchor-id="preparing-the-data-for-looker-studio">Preparing the data for Looker Studio:</h5>
<div class="cell" data-execution_count="69">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>topic_comments<span class="op">=</span>{}</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> topic <span class="kw">in</span> topics_arr[<span class="st">'category'</span>]:</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    topic_comments[topic]<span class="op">=</span>con.execute(</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"""--sql</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="ss">  SELECT AVG(LEN(content))</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="ss">  FROM database.reviews</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a><span class="ss">  WHERE podcast_id IN (</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="ss">    SELECT DISTINCT podcast_id</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a><span class="ss">    FROM database.categories</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="ss">    WHERE category = '</span><span class="sc">{</span>topic<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a><span class="ss">  )</span></span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a><span class="ss">            """</span></span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>).fetchone()</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>topic_comments<span class="op">=</span>pd.Series(topic_comments,name<span class="op">=</span><span class="st">'comment_length'</span>)</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>topic_stats<span class="op">=</span>pd.concat([topic_stats,topic_comments],axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>topic_stats[<span class="st">'comment_length'</span>]<span class="op">=</span>topic_stats[<span class="st">'comment_length'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">float</span>(x[<span class="dv">0</span>]))</span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>topic_stats.index.name<span class="op">=</span><span class="st">'topic'</span></span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>topic_stats[<span class="st">'residuals'</span>]<span class="op">=</span>topic_stats[<span class="st">'residuals'</span>].astype(<span class="bu">float</span>)</span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>topic_stats.to_csv(<span class="st">'topic_stats.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="fig-comment_l" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<iframe width="800" height="450" src="https://lookerstudio.google.com/embed/reporting/25930b5f-84e2-4c6c-9e38-3bebe45fd2a0/page/DuBTD" frameborder="0" style="border:0" allowfullscreen="">
</iframe>
<p></p><figcaption class="figure-caption">Figure&nbsp;10: The dependance of average comment length on the average rating of reviews of podcasts by specific topic. The Topics are categorized in accordance to <a href="#fig-topics-scatter">Figure&nbsp;9</a> by one standard deviation from the fit.</figcaption><p></p>
</figure>
</div>
<p>There seems to be a possible tendency for more polarizing topics to have longer reviews if the average is lower.</p>
</section>
<section id="section-summary" class="level5">
<h5 class="anchored" data-anchor-id="section-summary">Section summary</h5>
<p>The data presented in <a href="#fig-topics-scatter">Figure&nbsp;9</a> supports the notion that the most polarizing topics include news-politics and news-commentary and relationships. These topics are often associated with a higher likelihood of polarization due to the diverse opinions and perspectives they encompass. On the other hand, the least polarizing topics, such as different sports shows and fiction, align with our observational intuition as they generally evoke less controversy and strong opinions.</p>
</section>
</section>
</section>
<section id="conclusions" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="conclusions"><span class="header-section-number">5</span> Conclusions</h2>
<p>The following insights were found in this analysis:</p>
<ul>
<li>There is a clear tendency for some people to continuously write bad reviews with 2.02% to 2.31% of all users that wrote between 5 and 10 reviews consistently writing only negative reviews with ratings of “1” or “2”.</li>
<li>Some topics are more polarizing than others and their ratings consist of more extreme values. The most polarizing topics were news politics and commentary, relationships and life sciences.</li>
</ul>
<p>These insights provide evidence that the ratings are influenced by reviewer biases rather than solely reflecting the quality of the podcasts. The presence of biased negative reviews could potentially result in lower rankings for new and upcoming podcasts in an unadjusted suggestion algorithm, creating a negative cycle for emerging creators. Therefore, when designing such an algorithm, it is crucial to consider weighting potentially biased reviews appropriately to mitigate these effects and ensure fair recommendations for all podcasts.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
